import{u as y,j as e,H as C,L as N,z as i}from"./app-CUYYQlw6.js";import{A as S}from"./AdminLayout-Bluj9bkD.js";import{C as o,b as m,c as x,a as h,B as k}from"./Button-zuUTB9pY.js";import{A as $}from"./arrow-left-C22WyajX.js";function E({sekolah:s=null,kelurahans:g=[]}){const n=!!s,u=s?.id,{data:t,setData:r,post:f,put:v,processing:_,errors:a}=y({npsn:s?.npsn||"",nm_sekolah:s?.nm_sekolah||"",id_kelurahan:s?.id_kelurahan||"",alamat:s?.alamat||"",no_telp:s?.no_telp||"",email:s?.email||"",website:s?.website||"",latitude:s?.latitude||"",longitude:s?.longitude||"",thn_berdiri:s?.thn_berdiri||"",status_sekolah:s?.status_sekolah||"aktif",akreditasi:s?.akreditasi||"Belum",tgl_akreditasi:s?.tgl_akreditasi||"",ket:s?.ket||"",foto_utama:s?.foto_utama||""}),w=l=>{if(l.preventDefault(),n){const p=typeof route=="function"&&route("admin.sekolah.update",u)&&route("admin.sekolah.update",u)!=="#"||`/admin/sekolah/${u}`,c=i.loading("Memperbarui sekolah...",{duration:1/0});v(p,{preserveScroll:!1,onSuccess:()=>{i.dismiss(c)},onError:d=>{const b=d&&Object.keys(d).length>0?"Gagal memperbarui sekolah. Periksa form Anda.":"Gagal memperbarui sekolah";i.error(b,{id:c,duration:5e3})}})}else{const p=typeof route=="function"&&route("admin.sekolah.store")&&route("admin.sekolah.store")!=="#"||"/admin/sekolah",c=i.loading("Menyimpan sekolah...",{duration:1/0});f(p,{preserveScroll:!1,onSuccess:()=>{i.dismiss(c)},onError:d=>{const b=d&&Object.keys(d).length>0?"Gagal menambahkan sekolah. Periksa form Anda.":"Gagal menambahkan sekolah";i.error(b,{id:c,duration:5e3})}})}},j=typeof route=="function"&&route("admin.sekolah.index")&&route("admin.sekolah.index")!=="#"||"/admin/sekolah";return e.jsxs(S,{title:n?"Edit Sekolah":"Tambah Sekolah",children:[e.jsx(C,{title:n?"Edit Sekolah":"Tambah Sekolah"}),e.jsxs("div",{className:"mx-auto max-w-4xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(N,{href:j,className:"mb-4 inline-flex items-center text-sm text-base-content/70 hover:text-base-content",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Kembali ke Daftar Sekolah"]}),e.jsx("h2",{className:"text-2xl font-bold",children:n?"Edit Sekolah":"Tambah Sekolah Baru"}),e.jsx("p",{className:"text-sm text-base-content/70",children:n?"Perbarui data sekolah":"Masukkan data sekolah yang akan ditambahkan"})]}),e.jsxs("form",{onSubmit:w,children:[e.jsxs(o,{className:"mb-6",children:[e.jsx(m,{children:e.jsx(x,{children:"Informasi Dasar"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["NPSN ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"text",placeholder:"Masukkan NPSN",className:`input input-bordered w-full ${a.npsn?"input-error":""}`,value:t.npsn,onChange:l=>r("npsn",l.target.value),required:!0}),a.npsn&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.npsn})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Nama Sekolah ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"text",placeholder:"Masukkan nama sekolah",className:`input input-bordered w-full ${a.nm_sekolah?"input-error":""}`,value:t.nm_sekolah,onChange:l=>r("nm_sekolah",l.target.value),required:!0}),a.nm_sekolah&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.nm_sekolah})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Kelurahan ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsxs("select",{className:`select select-bordered w-full ${a.id_kelurahan?"select-error":""}`,value:t.id_kelurahan,onChange:l=>r("id_kelurahan",l.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Pilih Kelurahan"}),g.map(l=>e.jsxs("option",{value:l.id,children:[l.nm_kelurahan," - ",l.kecamatan?.nm_kecamatan]},l.id))]}),a.id_kelurahan&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.id_kelurahan})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Alamat ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("textarea",{rows:3,placeholder:"Masukkan alamat lengkap",className:`textarea textarea-bordered w-full ${a.alamat?"textarea-error":""}`,value:t.alamat,onChange:l=>r("alamat",l.target.value),required:!0}),a.alamat&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.alamat})})]})]})})]}),e.jsxs(o,{className:"mb-6",children:[e.jsx(m,{children:e.jsx(x,{children:"Kontak"})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"No. Telepon"})}),e.jsx("input",{type:"text",placeholder:"Masukkan nomor telepon",className:`input input-bordered w-full ${a.no_telp?"input-error":""}`,value:t.no_telp,onChange:l=>r("no_telp",l.target.value)}),a.no_telp&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.no_telp})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Email"})}),e.jsx("input",{type:"email",placeholder:"Masukkan email",className:`input input-bordered w-full ${a.email?"input-error":""}`,value:t.email,onChange:l=>r("email",l.target.value)}),a.email&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.email})})]}),e.jsxs("div",{className:"form-control sm:col-span-2",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Website"})}),e.jsx("input",{type:"url",placeholder:"https://example.com",className:`input input-bordered w-full ${a.website?"input-error":""}`,value:t.website,onChange:l=>r("website",l.target.value)}),a.website&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.website})})]})]})})]}),e.jsxs(o,{className:"mb-6",children:[e.jsx(m,{children:e.jsx(x,{children:"Koordinat Geografis"})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Latitude ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"number",step:"any",placeholder:"-7.12345678",className:`input input-bordered w-full ${a.latitude?"input-error":""}`,value:t.latitude,onChange:l=>r("latitude",l.target.value),required:!0}),a.latitude&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.latitude})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Longitude ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"number",step:"any",placeholder:"110.12345678",className:`input input-bordered w-full ${a.longitude?"input-error":""}`,value:t.longitude,onChange:l=>r("longitude",l.target.value),required:!0}),a.longitude&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.longitude})})]})]})})]}),e.jsxs(o,{className:"mb-6",children:[e.jsx(m,{children:e.jsx(x,{children:"Informasi Sekolah"})}),e.jsxs(h,{children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Tahun Berdiri"})}),e.jsx("input",{type:"number",placeholder:"2000",min:"1900",max:new Date().getFullYear(),className:`input input-bordered w-full ${a.thn_berdiri?"input-error":""}`,value:t.thn_berdiri,onChange:l=>r("thn_berdiri",l.target.value)}),a.thn_berdiri&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.thn_berdiri})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Status Sekolah ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsxs("select",{className:`select select-bordered w-full ${a.status_sekolah?"select-error":""}`,value:t.status_sekolah,onChange:l=>r("status_sekolah",l.target.value),required:!0,children:[e.jsx("option",{value:"aktif",children:"Aktif"}),e.jsx("option",{value:"tidak_aktif",children:"Tidak Aktif"})]}),a.status_sekolah&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.status_sekolah})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Akreditasi ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsxs("select",{className:`select select-bordered w-full ${a.akreditasi?"select-error":""}`,value:t.akreditasi,onChange:l=>r("akreditasi",l.target.value),required:!0,children:[e.jsx("option",{value:"Belum",children:"Belum"}),e.jsx("option",{value:"A",children:"A"}),e.jsx("option",{value:"B",children:"B"}),e.jsx("option",{value:"C",children:"C"})]}),a.akreditasi&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.akreditasi})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Tanggal Akreditasi"})}),e.jsx("input",{type:"date",className:`input input-bordered w-full ${a.tgl_akreditasi?"input-error":""}`,value:t.tgl_akreditasi,onChange:l=>r("tgl_akreditasi",l.target.value)}),a.tgl_akreditasi&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.tgl_akreditasi})})]})]}),e.jsxs("div",{className:"form-control mt-4",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Keterangan"})}),e.jsx("textarea",{rows:4,placeholder:"Masukkan keterangan tambahan (opsional)",className:`textarea textarea-bordered w-full ${a.ket?"textarea-error":""}`,value:t.ket,onChange:l=>r("ket",l.target.value)}),a.ket&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.ket})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(N,{href:j,children:e.jsx(k,{type:"button",variant:"outline",children:"Batal"})}),e.jsx(k,{type:"submit",variant:"primary",loading:_,children:n?"Perbarui":"Simpan"})]})]})]})]})}export{E as default};
