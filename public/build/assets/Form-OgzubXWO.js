import{u as S,j as e,H as C,L as b,z as i}from"./app-9nS-Mm4e.js";import{A as w}from"./AdminLayout-DPSUws_u.js";import{C as c,b as m,c as p,a as x}from"./Card-gbBR4fyZ.js";import{B as N}from"./Button-DtSZ5ZSY.js";import{u as K}from"./useAOS-Dj5LRxol.js";import{A as P}from"./arrow-left-aaF1DPWt.js";import"./createLucideIcon-oTywQYJd.js";import"./map-pin-D-MawlvD.js";import"./users-DE606EQy.js";import"./x-BqjMX6yR.js";import"./graduation-cap-8JamamWt.js";function H({kepsek:s=null,sekolahs:f=[]}){K();const n=!!s,h=s?.id,{data:t,setData:r,post:g,put:_,processing:v,errors:a}=S({id_sekolah:s?.id_sekolah||"",nm_kepsek:s?.nm_kepsek||"",nip:s?.nip||"",no_telp:s?.no_telp||"",email:s?.email||"",jenis_kelamin:s?.jenis_kelamin||"",pendidikan_terakhir:s?.pendidikan_terakhir||"",tgl_mulai:s?.tgl_mulai||"",tgl_selesai:s?.tgl_selesai||"",aktif:s?.aktif!==void 0?s.aktif:!0,foto:s?.foto||"",ket:s?.ket||""}),y=l=>{if(l.preventDefault(),n){const u=typeof route=="function"&&route("admin.kepsek.update",h)&&route("admin.kepsek.update",h)!=="#"||`/admin/kepsek/${h}`,o=i.loading("Memperbarui kepala sekolah...",{duration:1/0});_(u,{preserveScroll:!1,onSuccess:()=>{i.dismiss(o)},onError:d=>{const j=d&&Object.keys(d).length>0?"Gagal memperbarui kepala sekolah. Periksa form Anda.":"Gagal memperbarui kepala sekolah";i.error(j,{id:o,duration:5e3})}})}else{const u=typeof route=="function"&&route("admin.kepsek.store")&&route("admin.kepsek.store")!=="#"||"/admin/kepsek",o=i.loading("Menyimpan kepala sekolah...",{duration:1/0});g(u,{preserveScroll:!1,onSuccess:()=>{i.dismiss(o)},onError:d=>{const j=d&&Object.keys(d).length>0?"Gagal menambahkan kepala sekolah. Periksa form Anda.":"Gagal menambahkan kepala sekolah";i.error(j,{id:o,duration:5e3})}})}},k=typeof route=="function"&&route("admin.kepsek.index")&&route("admin.kepsek.index")!=="#"||"/admin/kepsek";return e.jsxs(w,{title:n?"Edit Kepala Sekolah":"Tambah Kepala Sekolah",children:[e.jsx(C,{title:n?"Edit Kepala Sekolah":"Tambah Kepala Sekolah"}),e.jsxs("div",{className:"mx-auto max-w-4xl",children:[e.jsxs("div",{className:"mb-6","data-aos":"fade-down",children:[e.jsxs(b,{href:k,className:"mb-4 inline-flex items-center text-sm text-base-content/70 hover:text-base-content",children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Kembali ke Daftar Kepala Sekolah"]}),e.jsx("h2",{className:"text-2xl font-bold",children:n?"Edit Kepala Sekolah":"Tambah Kepala Sekolah Baru"}),e.jsx("p",{className:"text-sm text-base-content/70",children:n?"Perbarui data kepala sekolah":"Masukkan data kepala sekolah yang akan ditambahkan"})]}),e.jsxs("form",{onSubmit:y,children:[e.jsxs(c,{className:"mb-6","data-aos":"fade-up","data-aos-delay":"100",children:[e.jsx(m,{children:e.jsx(p,{children:"Informasi Dasar"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Sekolah ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsxs("select",{className:`select select-bordered w-full ${a.id_sekolah?"select-error":""}`,value:t.id_sekolah,onChange:l=>r("id_sekolah",l.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Pilih Sekolah"}),f.map(l=>e.jsxs("option",{value:l.id,children:[l.nm_sekolah," - ",l.npsn]},l.id))]}),a.id_sekolah&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.id_sekolah})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Nama Kepala Sekolah ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"text",placeholder:"Masukkan nama kepala sekolah",className:`input input-bordered w-full ${a.nm_kepsek?"input-error":""}`,value:t.nm_kepsek,onChange:l=>r("nm_kepsek",l.target.value),required:!0}),a.nm_kepsek&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.nm_kepsek})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"NIP"})}),e.jsx("input",{type:"text",placeholder:"Masukkan NIP (opsional)",className:`input input-bordered w-full ${a.nip?"input-error":""}`,value:t.nip,onChange:l=>r("nip",l.target.value)}),a.nip&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.nip})})]})]})})]}),e.jsxs(c,{className:"mb-6","data-aos":"fade-up","data-aos-delay":"200",children:[e.jsx(m,{children:e.jsx(p,{children:"Kontak & Informasi Pribadi"})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"No. Telepon"})}),e.jsx("input",{type:"text",placeholder:"Masukkan nomor telepon",className:`input input-bordered w-full ${a.no_telp?"input-error":""}`,value:t.no_telp,onChange:l=>r("no_telp",l.target.value)}),a.no_telp&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.no_telp})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Email"})}),e.jsx("input",{type:"email",placeholder:"Masukkan email",className:`input input-bordered w-full ${a.email?"input-error":""}`,value:t.email,onChange:l=>r("email",l.target.value)}),a.email&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.email})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Jenis Kelamin"})}),e.jsxs("select",{className:`select select-bordered w-full ${a.jenis_kelamin?"select-error":""}`,value:t.jenis_kelamin,onChange:l=>r("jenis_kelamin",l.target.value),children:[e.jsx("option",{value:"",children:"Pilih Jenis Kelamin"}),e.jsx("option",{value:"L",children:"Laki-laki"}),e.jsx("option",{value:"P",children:"Perempuan"})]}),a.jenis_kelamin&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.jenis_kelamin})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Pendidikan Terakhir"})}),e.jsx("input",{type:"text",placeholder:"Contoh: S1, S2, dll",className:`input input-bordered w-full ${a.pendidikan_terakhir?"input-error":""}`,value:t.pendidikan_terakhir,onChange:l=>r("pendidikan_terakhir",l.target.value)}),a.pendidikan_terakhir&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.pendidikan_terakhir})})]})]})})]}),e.jsxs(c,{className:"mb-6","data-aos":"fade-up","data-aos-delay":"300",children:[e.jsx(m,{children:e.jsx(p,{children:"Periode Jabatan"})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Tanggal Mulai ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"date",className:`input input-bordered w-full ${a.tgl_mulai?"input-error":""}`,value:t.tgl_mulai,onChange:l=>r("tgl_mulai",l.target.value),required:!0}),a.tgl_mulai&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.tgl_mulai})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Tanggal Selesai"})}),e.jsx("input",{type:"date",className:`input input-bordered w-full ${a.tgl_selesai?"input-error":""}`,value:t.tgl_selesai,onChange:l=>r("tgl_selesai",l.target.value),min:t.tgl_mulai||void 0}),a.tgl_selesai&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.tgl_selesai})})]}),e.jsx("div",{className:"form-control sm:col-span-2",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"Status Aktif"}),e.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary",checked:t.aktif,onChange:l=>r("aktif",l.target.checked)})]})})]})})]}),e.jsxs(c,{className:"mb-6","data-aos":"fade-up","data-aos-delay":"400",children:[e.jsx(m,{children:e.jsx(p,{children:"Keterangan"})}),e.jsx(x,{children:e.jsxs("div",{className:"form-control",children:[e.jsx("textarea",{rows:4,placeholder:"Masukkan keterangan tambahan (opsional)",className:`textarea textarea-bordered w-full ${a.ket?"textarea-error":""}`,value:t.ket,onChange:l=>r("ket",l.target.value)}),a.ket&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.ket})})]})})]}),e.jsxs("div",{className:"flex justify-end gap-2","data-aos":"fade-up","data-aos-delay":"500",children:[e.jsx(b,{href:k,children:e.jsx(N,{type:"button",variant:"outline",children:"Batal"})}),e.jsx(N,{type:"submit",variant:"primary",loading:v,children:n?"Perbarui":"Simpan"})]})]})]})]})}export{H as default};
