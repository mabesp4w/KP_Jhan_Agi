import{u as y,j as e,H as K,L as b,z as i}from"./app-9nS-Mm4e.js";import{A as C}from"./AdminLayout-DPSUws_u.js";import{C as d,b as o,c,a as j}from"./Card-gbBR4fyZ.js";import{B as g}from"./Button-DtSZ5ZSY.js";import{T as w}from"./TahunAjaranSelect-bKYOORGD.js";import{u as G}from"./useAOS-Dj5LRxol.js";import{A as I}from"./arrow-left-aaF1DPWt.js";import"./createLucideIcon-oTywQYJd.js";import"./map-pin-D-MawlvD.js";import"./users-DE606EQy.js";import"./x-BqjMX6yR.js";import"./graduation-cap-8JamamWt.js";function U({dataGtk:l=null,sekolahs:N=[]}){G();const t=!!l,x=l?.id,{data:s,setData:n,post:k,put:f,processing:v,errors:a}=y({id_sekolah:l?.id_sekolah||"",thn_ajaran:l?.thn_ajaran||"",jml_guru_pns:l?.jml_guru_pns||0,jml_guru_honor:l?.jml_guru_honor||0,jml_guru_kontrak:l?.jml_guru_kontrak||0,jml_guru_s1:l?.jml_guru_s1||0,jml_guru_s2:l?.jml_guru_s2||0,jml_guru_sertifikasi:l?.jml_guru_sertifikasi||0,jml_tendik_pns:l?.jml_tendik_pns||0,jml_tendik_honor:l?.jml_tendik_honor||0,jml_tendik_kontrak:l?.jml_tendik_kontrak||0,ket:l?.ket||""}),T=r=>{if(r.preventDefault(),t){const h=typeof route=="function"&&route("admin.data-gtk.update",x)&&route("admin.data-gtk.update",x)!=="#"||`/admin/data-gtk/${x}`,m=i.loading("Memperbarui data GTK...",{duration:1/0});f(h,{preserveScroll:!1,onSuccess:()=>{i.dismiss(m)},onError:u=>{const p=u&&Object.keys(u).length>0?"Gagal memperbarui data GTK. Periksa form Anda.":"Gagal memperbarui data GTK";i.error(p,{id:m,duration:5e3})}})}else{const h=typeof route=="function"&&route("admin.data-gtk.store")&&route("admin.data-gtk.store")!=="#"||"/admin/data-gtk",m=i.loading("Menyimpan data GTK...",{duration:1/0});k(h,{preserveScroll:!1,onSuccess:()=>{i.dismiss(m)},onError:u=>{const p=u&&Object.keys(u).length>0?"Gagal menambahkan data GTK. Periksa form Anda.":"Gagal menambahkan data GTK";i.error(p,{id:m,duration:5e3})}})}},_=typeof route=="function"&&route("admin.data-gtk.index")&&route("admin.data-gtk.index")!=="#"||"/admin/data-gtk";return e.jsxs(C,{title:t?"Edit Data GTK":"Tambah Data GTK",children:[e.jsx(K,{title:t?"Edit Data GTK":"Tambah Data GTK"}),e.jsxs("div",{className:"mx-auto max-w-4xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(b,{href:_,className:"mb-4 inline-flex items-center text-sm text-base-content/70 hover:text-base-content",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),"Kembali ke Daftar Data GTK"]}),e.jsx("h2",{className:"text-2xl font-bold",children:t?"Edit Data GTK":"Tambah Data GTK Baru"}),e.jsx("p",{className:"text-sm text-base-content/70",children:t?"Perbarui data GTK":"Masukkan data GTK yang akan ditambahkan"})]}),e.jsxs("form",{onSubmit:T,children:[e.jsxs(d,{className:"mb-6",children:[e.jsx(o,{children:e.jsx(c,{children:"Informasi Dasar"})}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Sekolah ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsxs("select",{className:`select select-bordered w-full ${a.id_sekolah?"select-error":""}`,value:s.id_sekolah,onChange:r=>n("id_sekolah",r.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Pilih Sekolah"}),N.map(r=>e.jsxs("option",{value:r.id,children:[r.nm_sekolah," - ",r.npsn]},r.id))]}),a.id_sekolah&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.id_sekolah})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Tahun Ajaran ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx(w,{value:s.thn_ajaran,onChange:r=>n("thn_ajaran",r),required:!0,errors:a,name:"thn_ajaran"})]})]})})]}),e.jsxs(d,{className:"mb-6",children:[e.jsx(o,{children:e.jsx(c,{children:"Data Guru"})}),e.jsx(j,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Guru PNS ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"number",min:"0",className:`input input-bordered w-full ${a.jml_guru_pns?"input-error":""}`,value:s.jml_guru_pns,onChange:r=>n("jml_guru_pns",parseInt(r.target.value)||0),required:!0}),a.jml_guru_pns&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.jml_guru_pns})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Guru Honor ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"number",min:"0",className:`input input-bordered w-full ${a.jml_guru_honor?"input-error":""}`,value:s.jml_guru_honor,onChange:r=>n("jml_guru_honor",parseInt(r.target.value)||0),required:!0}),a.jml_guru_honor&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.jml_guru_honor})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Guru Kontrak ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"number",min:"0",className:`input input-bordered w-full ${a.jml_guru_kontrak?"input-error":""}`,value:s.jml_guru_kontrak,onChange:r=>n("jml_guru_kontrak",parseInt(r.target.value)||0),required:!0}),a.jml_guru_kontrak&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.jml_guru_kontrak})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Guru S1 ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"number",min:"0",className:`input input-bordered w-full ${a.jml_guru_s1?"input-error":""}`,value:s.jml_guru_s1,onChange:r=>n("jml_guru_s1",parseInt(r.target.value)||0),required:!0}),a.jml_guru_s1&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.jml_guru_s1})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Guru S2 ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"number",min:"0",className:`input input-bordered w-full ${a.jml_guru_s2?"input-error":""}`,value:s.jml_guru_s2,onChange:r=>n("jml_guru_s2",parseInt(r.target.value)||0),required:!0}),a.jml_guru_s2&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.jml_guru_s2})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Guru Sertifikasi ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"number",min:"0",className:`input input-bordered w-full ${a.jml_guru_sertifikasi?"input-error":""}`,value:s.jml_guru_sertifikasi,onChange:r=>n("jml_guru_sertifikasi",parseInt(r.target.value)||0),required:!0}),a.jml_guru_sertifikasi&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.jml_guru_sertifikasi})})]})]})})]}),e.jsxs(d,{className:"mb-6",children:[e.jsx(o,{children:e.jsx(c,{children:"Data Tenaga Kependidikan"})}),e.jsx(j,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Tendik PNS ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"number",min:"0",className:`input input-bordered w-full ${a.jml_tendik_pns?"input-error":""}`,value:s.jml_tendik_pns,onChange:r=>n("jml_tendik_pns",parseInt(r.target.value)||0),required:!0}),a.jml_tendik_pns&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.jml_tendik_pns})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Tendik Honor ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"number",min:"0",className:`input input-bordered w-full ${a.jml_tendik_honor?"input-error":""}`,value:s.jml_tendik_honor,onChange:r=>n("jml_tendik_honor",parseInt(r.target.value)||0),required:!0}),a.jml_tendik_honor&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.jml_tendik_honor})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Tendik Kontrak ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"number",min:"0",className:`input input-bordered w-full ${a.jml_tendik_kontrak?"input-error":""}`,value:s.jml_tendik_kontrak,onChange:r=>n("jml_tendik_kontrak",parseInt(r.target.value)||0),required:!0}),a.jml_tendik_kontrak&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.jml_tendik_kontrak})})]})]})})]}),e.jsxs(d,{className:"mb-6",children:[e.jsx(o,{children:e.jsx(c,{children:"Keterangan"})}),e.jsx(j,{children:e.jsxs("div",{className:"form-control",children:[e.jsx("textarea",{rows:4,placeholder:"Masukkan keterangan tambahan (opsional)",className:`textarea textarea-bordered w-full ${a.ket?"textarea-error":""}`,value:s.ket,onChange:r=>n("ket",r.target.value)}),a.ket&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.ket})})]})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(b,{href:_,children:e.jsx(g,{type:"button",variant:"outline",children:"Batal"})}),e.jsx(g,{type:"submit",variant:"primary",loading:v,children:t?"Perbarui":"Simpan"})]})]})]})]})}export{U as default};
