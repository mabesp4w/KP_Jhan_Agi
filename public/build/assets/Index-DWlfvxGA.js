import{r as m,j as e,H as k,b as u,L as h}from"./app-9nS-Mm4e.js";import{U as y}from"./UserLayout-Bn-Rhvpb.js";import{C as n,a as d}from"./Card-gbBR4fyZ.js";import{B as S}from"./Badge-C7uHHJOr.js";import{S as w}from"./SearchBox-DlmGgGNR.js";import{u as L}from"./useAOS-Dj5LRxol.js";import{L as _}from"./index-TQ215GY0.js";/* empty css               */import{I as p,S as I}from"./x-BqjMX6yR.js";import"./log-in-rpLB7y7c.js";import"./createLucideIcon-oTywQYJd.js";import"./Button-DtSZ5ZSY.js";function R({galeris:r,sekolahs:i,filters:l}){L();const[j,c]=m.useState(!1),[f,b]=m.useState(0),o=(a,s)=>{try{if(typeof route=="function"){const t=route(a);if(t&&t!=="#")return t}return s||"#"}catch{return s||"#"}},g=r.data.filter(a=>a.file_foto).map(a=>({src:`/storage/${a.file_foto}`,alt:a.judul,title:a.judul,description:a.deskripsi||""})),v=a=>{let s=0;for(let t=0;t<=a;t++)if(r.data[t]?.file_foto){if(t===a)return s;s++}return 0},N=a=>{const s=v(a);b(s),c(!0)},x=[{value:"kegiatan",label:"Kegiatan"},{value:"fasilitas",label:"Fasilitas"},{value:"prestasi",label:"Prestasi"},{value:"lainnya",label:"Lainnya"}];return e.jsxs(y,{title:"Galeri Foto",children:[e.jsx(k,{title:"Galeri Foto - SIG SMP YPK Jayapura"}),e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6 text-center","data-aos":"fade-down",children:[e.jsx("h1",{className:"text-3xl font-bold text-base-content",children:"Galeri Foto"}),e.jsx("p",{className:"mt-2 text-base-content/70",children:"Koleksi foto kegiatan dan aktivitas sekolah"})]}),e.jsx("div",{className:"mb-6","data-aos":"fade-up","data-aos-delay":"100",children:e.jsx(w,{placeholder:"Cari galeri (judul, sekolah, dll)...",searchUrl:o("user.galeri.index","/galeri"),resetUrl:o("user.galeri.index","/galeri"),defaultValue:l?.search||""})}),e.jsx(n,{className:"mb-6","data-aos":"fade-up","data-aos-delay":"150",children:e.jsx(d,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[i&&i.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"label-text mb-2 block",children:"Filter Sekolah:"}),e.jsxs("select",{className:"select select-bordered w-full",value:l?.sekolah||"",onChange:a=>{u.get(o("user.galeri.index","/galeri"),{...l,sekolah:a.target.value||null},{preserveState:!0})},children:[e.jsx("option",{value:"",children:"Semua Sekolah"}),i.map(a=>e.jsx("option",{value:a.id,children:a.nm_sekolah},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label-text mb-2 block",children:"Filter Kategori:"}),e.jsxs("select",{className:"select select-bordered w-full",value:l?.kategori||"",onChange:a=>{u.get(o("user.galeri.index","/galeri"),{...l,kategori:a.target.value||null},{preserveState:!0})},children:[e.jsx("option",{value:"",children:"Semua Kategori"}),x.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]})]})]})})}),r.data.length===0?e.jsx(n,{"data-aos":"fade-up","data-aos-delay":"200",children:e.jsx(d,{children:e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(p,{className:"mx-auto h-12 w-12 text-base-content/30"}),e.jsx("p",{className:"mt-4 text-base-content/70",children:l?.search||l?.sekolah||l?.kategori?"Tidak ada galeri yang ditemukan.":"Belum ada galeri foto."})]})})}):e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:r.data.map((a,s)=>a.file_foto?e.jsx(n,{"data-aos":"fade-up","data-aos-delay":200+s*50,children:e.jsxs(d,{className:"p-0",children:[e.jsxs("div",{className:"group relative cursor-pointer overflow-hidden rounded-t-lg",onClick:()=>N(s),children:[e.jsx("img",{src:`/storage/${a.file_foto}`,alt:a.judul,className:"h-64 w-full object-cover transition-transform group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 transition-opacity group-hover:opacity-100",children:e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(p,{className:"h-12 w-12 text-white"})})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[e.jsx("h3",{className:"font-bold",children:a.judul}),a.kategori&&e.jsx(S,{variant:"info",className:"ml-2",children:x.find(t=>t.value===a.kategori)?.label||a.kategori})]}),a.deskripsi&&e.jsx("p",{className:"mb-2 line-clamp-2 text-sm text-base-content/70",children:a.deskripsi}),a.sekolah&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-base-content/70",children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx(h,{href:o("user.sekolah.show",`/sekolah/${a.sekolah.id}`),className:"hover:text-primary hover:underline",children:a.sekolah.nm_sekolah})]})]})]})},a.id):null)}),r.links.length>3&&e.jsx("div",{className:"mt-6 flex justify-center","data-aos":"fade-up",children:e.jsx("div",{className:"join",children:r.links.map((a,s)=>e.jsx(h,{href:a.url||"#",className:`btn join-item btn-sm ${a.active?"btn-active":a.url?"":"btn-disabled"}`,dangerouslySetInnerHTML:{__html:a.label}},s))})})]}),e.jsx(_,{open:j,close:()=>c(!1),index:f,slides:g})]})}export{R as default};
