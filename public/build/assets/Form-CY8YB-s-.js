import{u as g,j as a,H as v,L as x,z as t}from"./app-9nS-Mm4e.js";import{A as _}from"./AdminLayout-DPSUws_u.js";import{C as y,b as K,c as w,a as C}from"./Card-gbBR4fyZ.js";import{B as p}from"./Button-DtSZ5ZSY.js";import{u as M}from"./useAOS-Dj5LRxol.js";import{A}from"./arrow-left-aaF1DPWt.js";import"./createLucideIcon-oTywQYJd.js";import"./map-pin-D-MawlvD.js";import"./users-DE606EQy.js";import"./x-BqjMX6yR.js";import"./graduation-cap-8JamamWt.js";function H({kelurahan:l=null,kecamatans:k=[]}){M();const s=!!l,c=l?.id,{data:i,setData:d,post:b,put:j,processing:f,errors:r}=g({id_kecamatan:l?.id_kecamatan||"",nm_kelurahan:l?.nm_kelurahan||"",kode_pos:l?.kode_pos||"",ket:l?.ket||""}),N=e=>{if(e.preventDefault(),s){const m=typeof route=="function"&&route("admin.kelurahan.update",c)&&route("admin.kelurahan.update",c)!=="#"||`/admin/kelurahan/${c}`,n=t.loading("Memperbarui kelurahan...",{duration:1/0});j(m,{preserveScroll:!1,onSuccess:()=>{t.dismiss(n)},onError:o=>{const u=o&&Object.keys(o).length>0?"Gagal memperbarui kelurahan. Periksa form Anda.":"Gagal memperbarui kelurahan";t.error(u,{id:n,duration:5e3})}})}else{const m=typeof route=="function"&&route("admin.kelurahan.store")&&route("admin.kelurahan.store")!=="#"||"/admin/kelurahan",n=t.loading("Menyimpan kelurahan...",{duration:1/0});b(m,{preserveScroll:!1,onSuccess:()=>{t.dismiss(n)},onError:o=>{const u=o&&Object.keys(o).length>0?"Gagal menambahkan kelurahan. Periksa form Anda.":"Gagal menambahkan kelurahan";t.error(u,{id:n,duration:5e3})}})}},h=typeof route=="function"&&route("admin.kelurahan.index")&&route("admin.kelurahan.index")!=="#"||"/admin/kelurahan";return a.jsxs(_,{title:s?"Edit Kelurahan":"Tambah Kelurahan",children:[a.jsx(v,{title:s?"Edit Kelurahan":"Tambah Kelurahan"}),a.jsxs("div",{className:"mx-auto max-w-3xl",children:[a.jsxs("div",{className:"mb-6","data-aos":"fade-down",children:[a.jsxs(x,{href:h,className:"mb-4 inline-flex items-center text-sm text-base-content/70 hover:text-base-content",children:[a.jsx(A,{className:"mr-2 h-4 w-4"}),"Kembali ke Daftar Kelurahan"]}),a.jsx("h2",{className:"text-2xl font-bold",children:s?"Edit Kelurahan":"Tambah Kelurahan Baru"}),a.jsx("p",{className:"text-sm text-base-content/70",children:s?"Perbarui data kelurahan":"Masukkan data kelurahan yang akan ditambahkan"})]}),a.jsxs(y,{"data-aos":"fade-up","data-aos-delay":"100",children:[a.jsx(K,{children:a.jsx(w,{children:"Form Kelurahan"})}),a.jsx(C,{children:a.jsxs("form",{onSubmit:N,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsxs("span",{className:"label-text",children:["Kecamatan ",a.jsx("span",{className:"text-error",children:"*"})]})}),a.jsxs("select",{className:`select select-bordered w-full ${r.id_kecamatan?"select-error":""}`,value:i.id_kecamatan,onChange:e=>d("id_kecamatan",e.target.value),required:!0,children:[a.jsx("option",{value:"",children:"Pilih Kecamatan"}),k.map(e=>a.jsx("option",{value:e.id,children:e.nm_kecamatan},e.id))]}),r.id_kecamatan&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:r.id_kecamatan})})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsxs("span",{className:"label-text",children:["Nama Kelurahan ",a.jsx("span",{className:"text-error",children:"*"})]})}),a.jsx("input",{type:"text",placeholder:"Masukkan nama kelurahan",className:`input input-bordered w-full ${r.nm_kelurahan?"input-error":""}`,value:i.nm_kelurahan,onChange:e=>d("nm_kelurahan",e.target.value),required:!0}),r.nm_kelurahan&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:r.nm_kelurahan})})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text",children:"Kode Pos"})}),a.jsx("input",{type:"text",placeholder:"Masukkan kode pos (opsional)",className:`input input-bordered w-full ${r.kode_pos?"input-error":""}`,value:i.kode_pos,onChange:e=>d("kode_pos",e.target.value),maxLength:10}),r.kode_pos&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:r.kode_pos})})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text",children:"Keterangan"})}),a.jsx("textarea",{rows:4,placeholder:"Masukkan keterangan (opsional)",className:`textarea textarea-bordered w-full ${r.ket?"textarea-error":""}`,value:i.ket,onChange:e=>d("ket",e.target.value)}),r.ket&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:r.ket})})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx(x,{href:h,children:a.jsx(p,{type:"button",variant:"outline",children:"Batal"})}),a.jsx(p,{type:"submit",variant:"primary",loading:f,children:s?"Perbarui":"Simpan"})]})]})})]})]})]})}export{H as default};
