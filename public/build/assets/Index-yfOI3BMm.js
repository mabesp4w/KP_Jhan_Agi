import{r as m,j as e,H as u,L as l,a as j,z as f}from"./app-CUYYQlw6.js";import{u as p,P as b,S as N,a as g,T as k,C as v}from"./useFlashToast-D_mIPSpE.js";import{B as d,C as y,b as D,c as w,a as K}from"./Button-zuUTB9pY.js";import{A as C,M as T}from"./AdminLayout-Bluj9bkD.js";function A({kecamatans:t,filters:c}){p();const[s,n]=m.useState(null),[o,r]=m.useState(!1),x=a=>{n(a),r(!0)},h=()=>{if(s){const a=typeof route=="function"&&route("admin.kecamatan.destroy",s)&&route("admin.kecamatan.destroy",s)!=="#"||`/admin/kecamatan/${s}`;j.delete(a,{preserveScroll:!0,onSuccess:()=>{r(!1),n(null)},onError:()=>{f.error("Gagal menghapus kecamatan")}})}};return e.jsxs(C,{title:"Kelola Kecamatan",children:[e.jsx(u,{title:"Kelola Kecamatan"}),e.jsxs("div",{className:"mx-auto max-w-7xl",children:[e.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Data Kecamatan"}),e.jsx("p",{className:"text-sm text-base-content/70",children:"Kelola data kecamatan"})]}),e.jsx(l,{href:typeof route=="function"&&route("admin.kecamatan.create")&&route("admin.kecamatan.create")!=="#"||"/admin/kecamatan/create",children:e.jsxs(d,{variant:"primary",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Tambah Kecamatan"]})})]}),e.jsx(N,{placeholder:"Cari kecamatan...",searchUrl:typeof route=="function"&&route("admin.kecamatan.index")&&route("admin.kecamatan.index")!=="#"||"/admin/kecamatan",resetUrl:typeof route=="function"&&route("admin.kecamatan.index")&&route("admin.kecamatan.index")!=="#"||"/admin/kecamatan",defaultValue:c?.search||""}),e.jsxs(y,{children:[e.jsx(D,{children:e.jsx(w,{children:"Daftar Kecamatan"})}),e.jsxs(K,{children:[t.data.length===0?e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(T,{className:"mx-auto h-12 w-12 text-base-content/30"}),e.jsx("p",{className:"mt-4 text-base-content/70",children:c?.search?"Tidak ada kecamatan yang ditemukan.":"Belum ada data kecamatan."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Nama Kecamatan"}),e.jsx("th",{children:"Keterangan"}),e.jsx("th",{children:"Tanggal Dibuat"}),e.jsx("th",{children:"Aksi"})]})}),e.jsx("tbody",{children:t.data.map((a,i)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.from+i}),e.jsx("td",{children:e.jsx("div",{className:"font-semibold",children:a.nm_kecamatan})}),e.jsx("td",{children:e.jsx("div",{className:"max-w-xs truncate text-sm text-base-content/70",children:a.ket||"-"})}),e.jsx("td",{children:e.jsx("div",{className:"text-sm text-base-content/70",children:new Date(a.created_at).toLocaleDateString("id-ID")})}),e.jsx("td",{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{href:typeof route=="function"&&route("admin.kecamatan.edit",a.id)&&route("admin.kecamatan.edit",a.id)!=="#"||`/admin/kecamatan/${a.id}/edit`,children:e.jsx(d,{variant:"ghost",size:"sm",className:"btn-sm",children:e.jsx(g,{className:"h-4 w-4"})})}),e.jsx(d,{variant:"ghost",size:"sm",className:"text-error btn-sm hover:bg-error/10",onClick:()=>x(a.id),children:e.jsx(k,{className:"h-4 w-4"})})]})})]},a.id))})]})}),t.links.length>3&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx("div",{className:"join",children:t.links.map((a,i)=>e.jsx(l,{href:a.url||"#",className:`btn join-item btn-sm ${a.active?"btn-active":a.url?"":"btn-disabled"}`,dangerouslySetInnerHTML:{__html:a.label}},i))})})]})]})]}),e.jsx(v,{isOpen:o,onClose:()=>{r(!1),n(null)},onConfirm:h,title:"Hapus Kecamatan",message:"Apakah Anda yakin ingin menghapus kecamatan ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",cancelText:"Batal",variant:"error"})]})}export{A as default};
