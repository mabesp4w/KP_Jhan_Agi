import{u as S,j as e,H as C,L as b,z as i}from"./app-CUYYQlw6.js";import{A as w}from"./AdminLayout-Bluj9bkD.js";import{C as d,b as m,c as x,a as h,B as N}from"./Button-zuUTB9pY.js";import{A as K}from"./arrow-left-C22WyajX.js";function E({kepsek:s=null,sekolahs:g=[]}){const n=!!s,p=s?.id,{data:r,setData:t,post:f,put:_,processing:v,errors:a}=S({id_sekolah:s?.id_sekolah||"",nm_kepsek:s?.nm_kepsek||"",nip:s?.nip||"",no_telp:s?.no_telp||"",email:s?.email||"",jenis_kelamin:s?.jenis_kelamin||"",pendidikan_terakhir:s?.pendidikan_terakhir||"",tgl_mulai:s?.tgl_mulai||"",tgl_selesai:s?.tgl_selesai||"",aktif:s?.aktif!==void 0?s.aktif:!0,foto:s?.foto||"",ket:s?.ket||""}),y=l=>{if(l.preventDefault(),n){const u=typeof route=="function"&&route("admin.kepsek.update",p)&&route("admin.kepsek.update",p)!=="#"||`/admin/kepsek/${p}`,c=i.loading("Memperbarui kepala sekolah...",{duration:1/0});_(u,{preserveScroll:!1,onSuccess:()=>{i.dismiss(c)},onError:o=>{const j=o&&Object.keys(o).length>0?"Gagal memperbarui kepala sekolah. Periksa form Anda.":"Gagal memperbarui kepala sekolah";i.error(j,{id:c,duration:5e3})}})}else{const u=typeof route=="function"&&route("admin.kepsek.store")&&route("admin.kepsek.store")!=="#"||"/admin/kepsek",c=i.loading("Menyimpan kepala sekolah...",{duration:1/0});f(u,{preserveScroll:!1,onSuccess:()=>{i.dismiss(c)},onError:o=>{const j=o&&Object.keys(o).length>0?"Gagal menambahkan kepala sekolah. Periksa form Anda.":"Gagal menambahkan kepala sekolah";i.error(j,{id:c,duration:5e3})}})}},k=typeof route=="function"&&route("admin.kepsek.index")&&route("admin.kepsek.index")!=="#"||"/admin/kepsek";return e.jsxs(w,{title:n?"Edit Kepala Sekolah":"Tambah Kepala Sekolah",children:[e.jsx(C,{title:n?"Edit Kepala Sekolah":"Tambah Kepala Sekolah"}),e.jsxs("div",{className:"mx-auto max-w-4xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(b,{href:k,className:"mb-4 inline-flex items-center text-sm text-base-content/70 hover:text-base-content",children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"Kembali ke Daftar Kepala Sekolah"]}),e.jsx("h2",{className:"text-2xl font-bold",children:n?"Edit Kepala Sekolah":"Tambah Kepala Sekolah Baru"}),e.jsx("p",{className:"text-sm text-base-content/70",children:n?"Perbarui data kepala sekolah":"Masukkan data kepala sekolah yang akan ditambahkan"})]}),e.jsxs("form",{onSubmit:y,children:[e.jsxs(d,{className:"mb-6",children:[e.jsx(m,{children:e.jsx(x,{children:"Informasi Dasar"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Sekolah ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsxs("select",{className:`select select-bordered w-full ${a.id_sekolah?"select-error":""}`,value:r.id_sekolah,onChange:l=>t("id_sekolah",l.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Pilih Sekolah"}),g.map(l=>e.jsxs("option",{value:l.id,children:[l.nm_sekolah," - ",l.npsn]},l.id))]}),a.id_sekolah&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.id_sekolah})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Nama Kepala Sekolah ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"text",placeholder:"Masukkan nama kepala sekolah",className:`input input-bordered w-full ${a.nm_kepsek?"input-error":""}`,value:r.nm_kepsek,onChange:l=>t("nm_kepsek",l.target.value),required:!0}),a.nm_kepsek&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.nm_kepsek})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"NIP"})}),e.jsx("input",{type:"text",placeholder:"Masukkan NIP (opsional)",className:`input input-bordered w-full ${a.nip?"input-error":""}`,value:r.nip,onChange:l=>t("nip",l.target.value)}),a.nip&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.nip})})]})]})})]}),e.jsxs(d,{className:"mb-6",children:[e.jsx(m,{children:e.jsx(x,{children:"Kontak & Informasi Pribadi"})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"No. Telepon"})}),e.jsx("input",{type:"text",placeholder:"Masukkan nomor telepon",className:`input input-bordered w-full ${a.no_telp?"input-error":""}`,value:r.no_telp,onChange:l=>t("no_telp",l.target.value)}),a.no_telp&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.no_telp})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Email"})}),e.jsx("input",{type:"email",placeholder:"Masukkan email",className:`input input-bordered w-full ${a.email?"input-error":""}`,value:r.email,onChange:l=>t("email",l.target.value)}),a.email&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.email})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Jenis Kelamin"})}),e.jsxs("select",{className:`select select-bordered w-full ${a.jenis_kelamin?"select-error":""}`,value:r.jenis_kelamin,onChange:l=>t("jenis_kelamin",l.target.value),children:[e.jsx("option",{value:"",children:"Pilih Jenis Kelamin"}),e.jsx("option",{value:"L",children:"Laki-laki"}),e.jsx("option",{value:"P",children:"Perempuan"})]}),a.jenis_kelamin&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.jenis_kelamin})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Pendidikan Terakhir"})}),e.jsx("input",{type:"text",placeholder:"Contoh: S1, S2, dll",className:`input input-bordered w-full ${a.pendidikan_terakhir?"input-error":""}`,value:r.pendidikan_terakhir,onChange:l=>t("pendidikan_terakhir",l.target.value)}),a.pendidikan_terakhir&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.pendidikan_terakhir})})]})]})})]}),e.jsxs(d,{className:"mb-6",children:[e.jsx(m,{children:e.jsx(x,{children:"Periode Jabatan"})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text",children:["Tanggal Mulai ",e.jsx("span",{className:"text-error",children:"*"})]})}),e.jsx("input",{type:"date",className:`input input-bordered w-full ${a.tgl_mulai?"input-error":""}`,value:r.tgl_mulai,onChange:l=>t("tgl_mulai",l.target.value),required:!0}),a.tgl_mulai&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.tgl_mulai})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Tanggal Selesai"})}),e.jsx("input",{type:"date",className:`input input-bordered w-full ${a.tgl_selesai?"input-error":""}`,value:r.tgl_selesai,onChange:l=>t("tgl_selesai",l.target.value),min:r.tgl_mulai||void 0}),a.tgl_selesai&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.tgl_selesai})})]}),e.jsx("div",{className:"form-control sm:col-span-2",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"Status Aktif"}),e.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary",checked:r.aktif,onChange:l=>t("aktif",l.target.checked)})]})})]})})]}),e.jsxs(d,{className:"mb-6",children:[e.jsx(m,{children:e.jsx(x,{children:"Keterangan"})}),e.jsx(h,{children:e.jsxs("div",{className:"form-control",children:[e.jsx("textarea",{rows:4,placeholder:"Masukkan keterangan tambahan (opsional)",className:`textarea textarea-bordered w-full ${a.ket?"textarea-error":""}`,value:r.ket,onChange:l=>t("ket",l.target.value)}),a.ket&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:a.ket})})]})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(b,{href:k,children:e.jsx(N,{type:"button",variant:"outline",children:"Batal"})}),e.jsx(N,{type:"submit",variant:"primary",loading:v,children:n?"Perbarui":"Simpan"})]})]})]})]})}export{E as default};
