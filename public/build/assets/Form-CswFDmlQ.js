import{u as g,j as a,H as v,L as x,z as n}from"./app-CUYYQlw6.js";import{A as _}from"./AdminLayout-Bluj9bkD.js";import{C as y,b as K,c as C,a as w,B as p}from"./Button-zuUTB9pY.js";import{A as M}from"./arrow-left-C22WyajX.js";function B({kelurahan:r=null,kecamatans:k=[]}){const s=!!r,c=r?.id,{data:o,setData:d,post:b,put:j,processing:f,errors:l}=g({id_kecamatan:r?.id_kecamatan||"",nm_kelurahan:r?.nm_kelurahan||"",kode_pos:r?.kode_pos||"",ket:r?.ket||""}),N=e=>{if(e.preventDefault(),s){const m=typeof route=="function"&&route("admin.kelurahan.update",c)&&route("admin.kelurahan.update",c)!=="#"||`/admin/kelurahan/${c}`,t=n.loading("Memperbarui kelurahan...",{duration:1/0});j(m,{preserveScroll:!1,onSuccess:()=>{n.dismiss(t)},onError:i=>{const u=i&&Object.keys(i).length>0?"Gagal memperbarui kelurahan. Periksa form Anda.":"Gagal memperbarui kelurahan";n.error(u,{id:t,duration:5e3})}})}else{const m=typeof route=="function"&&route("admin.kelurahan.store")&&route("admin.kelurahan.store")!=="#"||"/admin/kelurahan",t=n.loading("Menyimpan kelurahan...",{duration:1/0});b(m,{preserveScroll:!1,onSuccess:()=>{n.dismiss(t)},onError:i=>{const u=i&&Object.keys(i).length>0?"Gagal menambahkan kelurahan. Periksa form Anda.":"Gagal menambahkan kelurahan";n.error(u,{id:t,duration:5e3})}})}},h=typeof route=="function"&&route("admin.kelurahan.index")&&route("admin.kelurahan.index")!=="#"||"/admin/kelurahan";return a.jsxs(_,{title:s?"Edit Kelurahan":"Tambah Kelurahan",children:[a.jsx(v,{title:s?"Edit Kelurahan":"Tambah Kelurahan"}),a.jsxs("div",{className:"mx-auto max-w-3xl",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs(x,{href:h,className:"mb-4 inline-flex items-center text-sm text-base-content/70 hover:text-base-content",children:[a.jsx(M,{className:"mr-2 h-4 w-4"}),"Kembali ke Daftar Kelurahan"]}),a.jsx("h2",{className:"text-2xl font-bold",children:s?"Edit Kelurahan":"Tambah Kelurahan Baru"}),a.jsx("p",{className:"text-sm text-base-content/70",children:s?"Perbarui data kelurahan":"Masukkan data kelurahan yang akan ditambahkan"})]}),a.jsxs(y,{children:[a.jsx(K,{children:a.jsx(C,{children:"Form Kelurahan"})}),a.jsx(w,{children:a.jsxs("form",{onSubmit:N,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsxs("span",{className:"label-text",children:["Kecamatan ",a.jsx("span",{className:"text-error",children:"*"})]})}),a.jsxs("select",{className:`select select-bordered w-full ${l.id_kecamatan?"select-error":""}`,value:o.id_kecamatan,onChange:e=>d("id_kecamatan",e.target.value),required:!0,children:[a.jsx("option",{value:"",children:"Pilih Kecamatan"}),k.map(e=>a.jsx("option",{value:e.id,children:e.nm_kecamatan},e.id))]}),l.id_kecamatan&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:l.id_kecamatan})})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsxs("span",{className:"label-text",children:["Nama Kelurahan ",a.jsx("span",{className:"text-error",children:"*"})]})}),a.jsx("input",{type:"text",placeholder:"Masukkan nama kelurahan",className:`input input-bordered w-full ${l.nm_kelurahan?"input-error":""}`,value:o.nm_kelurahan,onChange:e=>d("nm_kelurahan",e.target.value),required:!0}),l.nm_kelurahan&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:l.nm_kelurahan})})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text",children:"Kode Pos"})}),a.jsx("input",{type:"text",placeholder:"Masukkan kode pos (opsional)",className:`input input-bordered w-full ${l.kode_pos?"input-error":""}`,value:o.kode_pos,onChange:e=>d("kode_pos",e.target.value),maxLength:10}),l.kode_pos&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:l.kode_pos})})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text",children:"Keterangan"})}),a.jsx("textarea",{rows:4,placeholder:"Masukkan keterangan (opsional)",className:`textarea textarea-bordered w-full ${l.ket?"textarea-error":""}`,value:o.ket,onChange:e=>d("ket",e.target.value)}),l.ket&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:l.ket})})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx(x,{href:h,children:a.jsx(p,{type:"button",variant:"outline",children:"Batal"})}),a.jsx(p,{type:"submit",variant:"primary",loading:f,children:s?"Perbarui":"Simpan"})]})]})})]})]})]})}export{B as default};
