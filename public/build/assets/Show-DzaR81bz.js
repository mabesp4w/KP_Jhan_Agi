import{r as p,j as e,H as v,L as _}from"./app-9nS-Mm4e.js";import{M as y,P as w,G as S,C as k}from"./MapView-CRUa1U4n.js";import{B as x}from"./Badge-C7uHHJOr.js";import{C as n,b as i,c,a as m}from"./Card-gbBR4fyZ.js";import{u as K}from"./useAOS-Dj5LRxol.js";import{U as T}from"./UserLayout-Bn-Rhvpb.js";/* empty css               */import{A as L}from"./arrow-left-aaF1DPWt.js";import{S as A}from"./x-BqjMX6yR.js";import{M as P}from"./map-pin-D-MawlvD.js";import{M as B}from"./mail-EV0S4EBM.js";import{G as C}from"./graduation-cap-8JamamWt.js";import{c as G}from"./createLucideIcon-oTywQYJd.js";import"./leaflet-rhc4qf6L.js";import"./log-in-rpLB7y7c.js";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],I=G("user-check",M);function le({sekolah:a,kepsek:r,galeris:D,sekolahsForMap:u=[],dataSiswa:j=[],dataGtk:h=[]}){K();const[H,$]=p.useState(!1),[E,O]=p.useState(0),N=(s,l)=>{try{if(typeof route=="function"){const t=route(s);if(t&&t!=="#")return t}return l||"#"}catch{return l||"#"}},b=s=>{const l={A:"success",B:"info",C:"warning",Belum:"error"};return e.jsx(x,{variant:l[s]||"error",children:s||"Belum"})};return e.jsxs(T,{title:a.nm_sekolah,children:[e.jsx(v,{title:`${a.nm_sekolah} - SIG SMP YPK Jayapura`}),e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6","data-aos":"fade-down",children:e.jsxs(_,{href:N("user.sekolah.index","/sekolah"),className:"inline-flex items-center gap-2 text-sm text-base-content/70 hover:text-base-content",children:[e.jsx(L,{className:"h-4 w-4"}),"Kembali ke Daftar Sekolah"]})}),e.jsx("div",{className:"mb-8","data-aos":"fade-down","data-aos-delay":"100",children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start",children:[a.foto_utama&&e.jsx("div",{className:"h-48 w-full overflow-hidden rounded-lg md:h-64 md:w-96",children:e.jsx("img",{src:`/storage/${a.foto_utama}`,alt:a.nm_sekolah,className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:a.nm_sekolah}),b(a.akreditasi)]}),e.jsxs("div",{className:"space-y-2 text-base-content/70",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),e.jsx("span",{className:"font-mono text-lg",children:a.npsn})]}),a.kelurahan&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5"}),e.jsxs("span",{children:[a.kelurahan.nm_kelurahan,a.kelurahan.kecamatan&&`, ${a.kelurahan.kecamatan.nm_kecamatan}`]})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsxs(n,{"data-aos":"fade-up","data-aos-delay":"200",children:[e.jsx(i,{children:e.jsx(c,{children:"Informasi Sekolah"})}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Alamat"}),e.jsx("p",{className:"text-base-content/70",children:a.alamat||"-"})]}),a.latitude&&a.longitude&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 font-semibold",children:"Lokasi"}),e.jsx(y,{sekolahs:u,height:"400px",centerLat:a.latitude,centerLng:a.longitude,zoom:15,highlightedSekolahId:a.id,isActive:a.status_sekolah==="aktif"}),e.jsxs("p",{className:"mt-2 text-xs text-base-content/60",children:[e.jsx("span",{className:"mr-1 inline-block h-3 w-3 animate-pulse rounded-full bg-red-500"}),"Marker merah berkedip menunjukkan lokasi sekolah ini.",e.jsx("span",{className:"mr-1 ml-2 inline-block h-3 w-3 rounded-full bg-blue-500"}),"Marker biru menunjukkan lokasi sekolah lain."]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.no_telp&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{children:"Telepon"})]}),e.jsx("p",{className:"text-base-content/70",children:a.no_telp})]}),a.email&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("span",{children:"Email"})]}),e.jsx("p",{className:"text-base-content/70",children:a.email})]}),a.website&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{children:"Website"})]}),e.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:a.website})]}),a.thn_berdiri&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsx(k,{className:"h-4 w-4"}),e.jsx("span",{children:"Tahun Berdiri"})]}),e.jsx("p",{className:"text-base-content/70",children:a.thn_berdiri})]})]}),a.ket&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Keterangan"}),e.jsx("p",{className:"whitespace-pre-line text-base-content/70",children:a.ket})]})]})})]}),j&&j.length>0&&e.jsxs(n,{"data-aos":"fade-up","data-aos-delay":"300",children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5"}),"Data Siswa"]})}),e.jsx(m,{children:e.jsx("div",{className:"space-y-4",children:j.map((s,l)=>{const t=(s.jml_siswa_l_7||0)+(s.jml_siswa_p_7||0),d=(s.jml_siswa_l_8||0)+(s.jml_siswa_p_8||0),o=(s.jml_siswa_l_9||0)+(s.jml_siswa_p_9||0),f=t+d+o,g=(s.jml_kelas_7||0)+(s.jml_kelas_8||0)+(s.jml_kelas_9||0);return e.jsxs("div",{className:l>0?"border-t border-base-300 pt-4":"",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsxs("h4",{className:"font-semibold",children:["Tahun Ajaran: ",s.thn_ajaran]}),l===0&&e.jsx(x,{variant:"info",children:"Terbaru"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Kelas 7"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["Kelas: ",s.jml_kelas_7||0]}),e.jsxs("div",{className:"text-base-content/70",children:["Siswa: ",t," (",s.jml_siswa_l_7||0,"L / ",s.jml_siswa_p_7||0,"P)"]})]})]}),e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Kelas 8"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["Kelas: ",s.jml_kelas_8||0]}),e.jsxs("div",{className:"text-base-content/70",children:["Siswa: ",d," (",s.jml_siswa_l_8||0,"L / ",s.jml_siswa_p_8||0,"P)"]})]})]}),e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Kelas 9"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["Kelas: ",s.jml_kelas_9||0]}),e.jsxs("div",{className:"text-base-content/70",children:["Siswa: ",o," (",s.jml_siswa_l_9||0,"L / ",s.jml_siswa_p_9||0,"P)"]})]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between rounded-lg bg-primary/10 p-3",children:[e.jsx("span",{className:"font-semibold",children:"Total"}),e.jsxs("span",{className:"text-lg font-bold text-primary",children:[g," Kelas â€¢ ",f," Siswa"]})]}),s.ket&&e.jsxs("div",{className:"mt-2 text-sm text-base-content/70",children:[e.jsx("strong",{children:"Keterangan:"})," ",s.ket]})]},s.id)})})})]}),h&&h.length>0&&e.jsxs(n,{"data-aos":"fade-up","data-aos-delay":"400",children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),"Data GTK (Guru dan Tenaga Kependidikan)"]})}),e.jsx(m,{children:e.jsx("div",{className:"space-y-4",children:h.map((s,l)=>{const t=(s.jml_guru_pns||0)+(s.jml_guru_honor||0)+(s.jml_guru_kontrak||0),d=(s.jml_tendik_pns||0)+(s.jml_tendik_honor||0)+(s.jml_tendik_kontrak||0),o=t+d;return e.jsxs("div",{className:l>0?"border-t border-base-300 pt-4":"",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsxs("h4",{className:"font-semibold",children:["Tahun Ajaran: ",s.thn_ajaran]}),l===0&&e.jsx(x,{variant:"info",children:"Terbaru"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"mb-2 font-semibold text-primary",children:"Guru"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"PNS"}),e.jsx("div",{className:"text-lg font-bold",children:s.jml_guru_pns||0})]}),e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"Honor"}),e.jsx("div",{className:"text-lg font-bold",children:s.jml_guru_honor||0})]}),e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"Kontrak"}),e.jsx("div",{className:"text-lg font-bold",children:s.jml_guru_kontrak||0})]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"S1"}),e.jsx("div",{className:"text-lg font-bold",children:s.jml_guru_s1||0})]}),e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"S2"}),e.jsx("div",{className:"text-lg font-bold",children:s.jml_guru_s2||0})]}),e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"Bersertifikasi"}),e.jsx("div",{className:"text-lg font-bold",children:s.jml_guru_sertifikasi||0})]})]}),e.jsxs("div",{className:"mt-3 rounded-lg bg-primary/10 p-3",children:[e.jsx("span",{className:"font-semibold",children:"Total Guru: "}),e.jsx("span",{className:"text-lg font-bold text-primary",children:t})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"mb-2 font-semibold text-primary",children:"Tenaga Kependidikan"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"PNS"}),e.jsx("div",{className:"text-lg font-bold",children:s.jml_tendik_pns||0})]}),e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"Honor"}),e.jsx("div",{className:"text-lg font-bold",children:s.jml_tendik_honor||0})]}),e.jsxs("div",{className:"rounded-lg border border-base-300 bg-base-100 p-3",children:[e.jsx("div",{className:"text-xs text-base-content/70",children:"Kontrak"}),e.jsx("div",{className:"text-lg font-bold",children:s.jml_tendik_kontrak||0})]})]}),e.jsxs("div",{className:"mt-3 rounded-lg bg-primary/10 p-3",children:[e.jsx("span",{className:"font-semibold",children:"Total Tendik: "}),e.jsx("span",{className:"text-lg font-bold text-primary",children:d})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-lg bg-success/10 p-3",children:[e.jsx("span",{className:"font-semibold",children:"Total GTK"}),e.jsx("span",{className:"text-lg font-bold text-success",children:o})]}),s.ket&&e.jsxs("div",{className:"mt-2 text-sm text-base-content/70",children:[e.jsx("strong",{children:"Keterangan:"})," ",s.ket]})]},s.id)})})})]})]}),e.jsxs("div",{className:"space-y-6",children:[r&&e.jsxs(n,{"data-aos":"fade-up","data-aos-delay":"400",children:[e.jsx(i,{children:e.jsx(c,{children:"Kepala Sekolah"})}),e.jsx(m,{children:e.jsxs("div",{className:"text-center",children:[r.foto&&e.jsx("div",{className:"mx-auto mb-4 h-24 w-24 overflow-hidden rounded-full",children:e.jsx("img",{src:`/storage/${r.foto}`,alt:r.nm_kepsek,className:"h-full w-full object-cover"})}),e.jsx("h3",{className:"font-bold",children:r.nm_kepsek}),r.nip&&e.jsxs("p",{className:"text-sm text-base-content/70",children:["NIP: ",r.nip]}),r.pendidikan_terakhir&&e.jsx("p",{className:"text-sm text-base-content/70",children:r.pendidikan_terakhir})]})})]}),e.jsxs(n,{"data-aos":"fade-up","data-aos-delay":"500",children:[e.jsx(i,{children:e.jsx(c,{children:"Informasi Tambahan"})}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Status"}),e.jsx(x,{variant:a.status_sekolah==="aktif"?"success":"error",children:a.status_sekolah==="aktif"?"Aktif":"Tidak Aktif"})]}),a.akreditasi&&a.akreditasi!=="Belum"&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Akreditasi"}),b(a.akreditasi),a.tgl_akreditasi&&e.jsx("div",{className:"mt-1 text-xs text-base-content/70",children:new Date(a.tgl_akreditasi).toLocaleDateString("id-ID")})]}),a.latitude&&a.longitude&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Koordinat"}),e.jsxs("div",{className:"text-xs text-base-content/70",children:[a.latitude,", ",a.longitude]})]})]})})]})]})]})]})]})}export{le as default};
