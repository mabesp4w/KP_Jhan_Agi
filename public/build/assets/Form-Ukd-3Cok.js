import{u as g,j as a,H as N,L as p,z as s}from"./app-C88MIY-H.js";import{A as y}from"./AdminLayout-DC6RaOw9.js";import{C as v,b as K,c as _,a as w}from"./Card-BVp4NdL4.js";import{B as k}from"./Button-8nhp7S0K.js";import{u as A}from"./useAOS-BUJ55qhT.js";import{A as C}from"./arrow-left-bOXMDzzi.js";import"./createLucideIcon-D5u0KSCq.js";import"./map-pin-DGNB9d2n.js";import"./users-CG4YSqGz.js";import"./x-S739Wblq.js";import"./graduation-cap-BadrOtYG.js";function H({kecamatan:l=null}){A();const t=!!l,o=l?.id,{data:d,setData:u,post:h,put:b,processing:f,errors:n}=g({nm_kecamatan:l?.nm_kecamatan||"",ket:l?.ket||""}),j=r=>{if(r.preventDefault(),t){const i=typeof route=="function"&&route("admin.kecamatan.update",o)&&route("admin.kecamatan.update",o)!=="#"||`/admin/kecamatan/${o}`,m=s.loading("Memperbarui kecamatan...",{duration:1/0});b(i,{preserveScroll:!1,onSuccess:e=>{s.dismiss(m)},onError:e=>{console.log("Form update error:",e);const c=e&&Object.keys(e).length>0?"Gagal memperbarui kecamatan. Periksa form Anda.":"Gagal memperbarui kecamatan";s.error(c,{id:m,duration:5e3})}})}else{const i=typeof route=="function"&&route("admin.kecamatan.store")&&route("admin.kecamatan.store")!=="#"||"/admin/kecamatan",m=s.loading("Menyimpan kecamatan...",{duration:1/0});h(i,{preserveScroll:!1,onSuccess:e=>{s.dismiss(m)},onError:e=>{console.log("Form submit error:",e);const c=e&&Object.keys(e).length>0?"Gagal menambahkan kecamatan. Periksa form Anda.":"Gagal menambahkan kecamatan";s.error(c,{id:m,duration:5e3})}})}},x=typeof route=="function"&&route("admin.kecamatan.index")&&route("admin.kecamatan.index")!=="#"||"/admin/kecamatan";return a.jsxs(y,{title:t?"Edit Kecamatan":"Tambah Kecamatan",children:[a.jsx(N,{title:t?"Edit Kecamatan":"Tambah Kecamatan"}),a.jsxs("div",{className:"mx-auto max-w-3xl",children:[a.jsxs("div",{className:"mb-6","data-aos":"fade-down",children:[a.jsxs(p,{href:x,className:"mb-4 inline-flex items-center text-sm text-base-content/70 hover:text-base-content",children:[a.jsx(C,{className:"mr-2 h-4 w-4"}),"Kembali ke Daftar Kecamatan"]}),a.jsx("h2",{className:"text-2xl font-bold",children:t?"Edit Kecamatan":"Tambah Kecamatan Baru"}),a.jsx("p",{className:"text-sm text-base-content/70",children:t?"Perbarui data kecamatan":"Masukkan data kecamatan yang akan ditambahkan"})]}),a.jsxs(v,{"data-aos":"fade-up","data-aos-delay":"100",children:[a.jsx(K,{children:a.jsx(_,{children:"Form Kecamatan"})}),a.jsx(w,{children:a.jsxs("form",{onSubmit:j,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsxs("span",{className:"label-text",children:["Nama Kecamatan ",a.jsx("span",{className:"text-error",children:"*"})]})}),a.jsx("input",{type:"text",placeholder:"Masukkan nama kecamatan",className:`input input-bordered w-full ${n.nm_kecamatan?"input-error":""}`,value:d.nm_kecamatan,onChange:r=>u("nm_kecamatan",r.target.value),required:!0}),n.nm_kecamatan&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:n.nm_kecamatan})})]}),a.jsxs("div",{className:"form-control",children:[a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text",children:"Keterangan"})}),a.jsx("textarea",{rows:4,placeholder:"Masukkan keterangan (opsional)",className:`textarea textarea-bordered w-full ${n.ket?"textarea-error":""}`,value:d.ket,onChange:r=>u("ket",r.target.value)}),n.ket&&a.jsx("label",{className:"label",children:a.jsx("span",{className:"label-text-alt text-error",children:n.ket})})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx(p,{href:x,children:a.jsx(k,{type:"button",variant:"outline",children:"Batal"})}),a.jsx(k,{type:"submit",variant:"primary",loading:f,children:t?"Perbarui":"Simpan"})]})]})})]})]})]})}export{H as default};
