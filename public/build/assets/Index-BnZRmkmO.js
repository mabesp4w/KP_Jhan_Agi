import{b as on,r as n,j as d,H as sn,L as ke,a as Ne,z as an}from"./app-CUYYQlw6.js";import{u as ln,P as cn,S as un,a as dn,T as fn,C as mn}from"./useFlashToast-D_mIPSpE.js";import{B as je,C as it,a as st,b as hn,c as pn}from"./Button-zuUTB9pY.js";import{A as gn,I as vn}from"./AdminLayout-Bluj9bkD.js";const bt="carousel",Et="controller",xn="navigation",bn="no-scroll",ze="portal",En="root",Nt="toolbar",De="loading",Ae="error",We="complete",Nn="placeholder",_n=e=>`active-slide-${e}`,_t="flex_center",Cn="no_scroll",Ct="no_scroll_padding",Xe="slide",wn="slide_wrapper",ee="prev",te="next",at="swipe",se="close",wt="onPointerDown",yt="onPointerMove",Pt="onPointerUp",Lt="onPointerLeave",St="onPointerCancel",It="onKeyDown",yn="onKeyUp",Tt="onWheel",Pn="Escape",Ln="ArrowLeft",Sn="ArrowRight",In="button",Fe="icon",Ot="contain",lt="cover",Tn="Unknown action type";var On=on();const Rt="yarl__";function Y(...e){return[...e].filter(Boolean).join(" ")}function S(e){return`${Rt}${e}`}function B(e){return`--${Rt}${e}`}function fe(e,t){return`${e}${t?`_${t}`:""}`}function Ge(e){return t=>fe(e,t)}function ae(e,t){var r;return(r=e?.[t])!==null&&r!==void 0?r:t}function Rn(e,t,r){return ae(e,"{index} of {total}").replace(/\{index}/g,`${Ye(r,t.length)+1}`).replace(/\{total}/g,`${t.length}`)}function Mt(...e){return()=>{e.forEach(t=>{t()})}}function Q(e,t,r){return()=>{const o=n.useContext(r);if(!o)throw new Error(`${e} must be used within a ${t}.Provider`);return o}}function kt(){return typeof window<"u"}function Mn(e,t=0){const r=10**t;return Math.round((e+Number.EPSILON)*r)/r}function jt(e){return e.type===void 0||e.type==="image"}function kn(e,t){return e.imageFit===lt||e.imageFit!==Ot&&t===lt}function we(e){return typeof e=="string"?Number.parseInt(e,10):e}function Ce(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=we(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function jn(e,t){const r=Ce(t),o=r.percent!==void 0?e.width/100*r.percent:r.pixel;return{width:Math.max(e.width-2*o,0),height:Math.max(e.height-2*o,0)}}function Ye(e,t){return t>0?(e%t+t)%t:0}function Dt(e){return e.length>0}function At(e,t){return e[Ye(t,e.length)]}function Be(e,t){return Dt(e)?At(e,t):void 0}function Dn(e){return jt(e)?e.src:void 0}function An(e,t,r=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),r))}const Wn=Number(n.version.split(".")[0])>=19;function $n(e){return{inert:Wn?e:e?"":void 0}}function Un(e){e.scrollTop}const He={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[se]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:Ot,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function ne(e,t){return{name:e,component:t}}function W(e,t){return{module:e,children:t}}function Wt(e,t,r){return e.module.name===t?r(e):e.children?[W(e.module,e.children.flatMap(o=>{var i;return(i=Wt(o,t,r))!==null&&i!==void 0?i:[]}))]:[e]}function ie(e,t,r){return e.flatMap(o=>{var i;return(i=Wt(o,t,r))!==null&&i!==void 0?i:[]})}function Vn(e,t=[],r=[]){let o=e;const i=p=>{const g=[...o];for(;g.length>0;){const m=g.pop();if(m?.module.name===p)return!0;m?.children&&g.push(...m.children)}return!1},s=(p,g)=>{if(p===""){o=[W(g,o)];return}o=ie(o,p,m=>[W(g,[m])])},a=(p,g)=>{o=ie(o,p,m=>[W(m.module,[W(g,m.children)])])},c=(p,g,m)=>{o=ie(o,p,C=>{var l;return[W(C.module,[...m?[W(g)]:[],...(l=C.children)!==null&&l!==void 0?l:[],...m?[]:[W(g)]])]})},f=(p,g,m)=>{o=ie(o,p,C=>[...m?[W(g)]:[],C,...m?[]:[W(g)]])},h=p=>{a(Et,p)},x=(p,g)=>{o=ie(o,p,m=>[W(g,m.children)])},b=p=>{o=ie(o,p,g=>g.children)},v=p=>{r.push(p)};return t.forEach(p=>{p({contains:i,addParent:s,append:a,addChild:c,addSibling:f,addModule:h,replace:x,remove:b,augment:v})}),{config:o,augmentation:p=>r.reduce((g,m)=>m(g),p)}}const $t=n.createContext(null),Ut=Q("useA11yContext","A11yContext",$t);function Fn({children:e}){const[t,r]=n.useState(!1),[o,i]=n.useState(!1),s=n.useMemo(()=>({focusWithin:t,trackFocusWithin:(c,f)=>{const h=x=>b=>{var v;b.currentTarget.contains(b.relatedTarget)||r(x),(v=x?c:f)===null||v===void 0||v(b)};return{onFocus:h(!0),onBlur:h(!1)}},autoPlaying:o,setAutoPlaying:i}),[t,o]);return n.createElement($t.Provider,{value:s},e)}const Vt=n.createContext(null),qe=Q("useDocument","DocumentContext",Vt);function Bn({nodeRef:e,children:t}){const r=n.useMemo(()=>{const o=s=>{var a;return((a=s||e.current)===null||a===void 0?void 0:a.ownerDocument)||document};return{getOwnerDocument:o,getOwnerWindow:s=>{var a;return((a=o(s))===null||a===void 0?void 0:a.defaultView)||window}}},[e]);return n.createElement(Vt.Provider,{value:r},t)}const Ft=n.createContext(null),ye=Q("useEvents","EventsContext",Ft);function Hn({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(o=>delete t[o])},[t]);const r=n.useMemo(()=>{const o=(a,c)=>{var f;(f=t[a])===null||f===void 0||f.splice(0,t[a].length,...t[a].filter(h=>h!==c))};return{publish:(...[a,c])=>{var f;(f=t[a])===null||f===void 0||f.forEach(h=>h(c))},subscribe:(a,c)=>(t[a]||(t[a]=[]),t[a].push(c),()=>o(a,c)),unsubscribe:o}},[t]);return n.createElement(Ft.Provider,{value:r},e)}const Bt=n.createContext(null),me=Q("useLightboxProps","LightboxPropsContext",Bt);function Kn({children:e,...t}){return n.createElement(Bt.Provider,{value:t},e)}const Ht=n.createContext(null),Pe=Q("useLightboxState","LightboxStateContext",Ht),Kt=n.createContext(null),zn=Q("useLightboxDispatch","LightboxDispatchContext",Kt);function Xn(e,t){switch(t.type){case"swipe":{const{slides:r}=e,o=t?.increment||0,i=e.globalIndex+o,s=Ye(i,r.length),a=Be(r,s),c=o||t.duration!==void 0?{increment:o,duration:t.duration,easing:t.easing}:void 0;return{slides:r,currentIndex:s,globalIndex:i,currentSlide:a,animation:c}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:Be(t.slides,t.index)}:e;default:throw new Error(Tn)}}function Gn({slides:e,index:t,children:r}){const[o,i]=n.useReducer(Xn,{slides:e,currentIndex:t,globalIndex:t,currentSlide:Be(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const s=n.useMemo(()=>({...o,state:o,dispatch:i}),[o,i]);return n.createElement(Kt.Provider,{value:i},n.createElement(Ht.Provider,{value:s},r))}const zt=n.createContext(null),Le=Q("useTimeouts","TimeoutsContext",zt);function Yn({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(o=>window.clearTimeout(o)),t.splice(0,t.length)},[t]);const r=n.useMemo(()=>{const o=a=>{t.splice(0,t.length,...t.filter(c=>c!==a))};return{setTimeout:(a,c)=>{const f=window.setTimeout(()=>{o(f),a()},c);return t.push(f),f},clearTimeout:a=>{a!==void 0&&(o(a),window.clearTimeout(a))}}},[t]);return n.createElement(zt.Provider,{value:r},e)}const Xt=n.forwardRef(function({label:t,className:r,icon:o,renderIcon:i,onClick:s,style:a,...c},f){const{styles:h,labels:x}=me(),b=ae(x,t);return n.createElement("button",{ref:f,type:"button",title:b,"aria-label":b,className:Y(S(In),r),onClick:s,style:{...a,...h.button},...c},i?i():n.createElement(o,{className:S(Fe),style:h.icon}))});function qn(e,t){const r=o=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...o},t);return r.displayName=e,r}function he(e,t){return qn(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const Qn=he("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Jn=he("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Zn=he("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),er=he("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,r)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(t+1),transform:`rotate(${360/r.length*t}, 12, 12)`})))),tr=he("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),pe=kt()?n.useLayoutEffect:n.useEffect;function Gt(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var r,o;const i=(r=window.matchMedia)===null||r===void 0?void 0:r.call(window,"(prefers-reduced-motion: reduce)");t(i?.matches);const s=a=>t(a.matches);return(o=i?.addEventListener)===null||o===void 0||o.call(i,"change",s),()=>{var a;return(a=i?.removeEventListener)===null||a===void 0?void 0:a.call(i,"change",s)}},[]),e}function nr(e){let t=0,r=0,o=0;const s=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(s){const a=s[1].split(",").map(we);a.length===6?(t=a[4],r=a[5]):a.length===16&&(t=a[12],r=a[13],o=a[14])}return{x:t,y:r,z:o}}function ct(e,t){const r=n.useRef(void 0),o=n.useRef(void 0),i=Gt();return pe(()=>{var s,a,c;if(e.current&&r.current!==void 0&&!i){const{keyframes:f,duration:h,easing:x,onfinish:b}=t(r.current,e.current.getBoundingClientRect(),nr(e.current))||{};if(f&&h){(s=o.current)===null||s===void 0||s.cancel(),o.current=void 0;try{o.current=(c=(a=e.current).animate)===null||c===void 0?void 0:c.call(a,f,{duration:h,easing:x})}catch(v){console.error(v)}o.current&&(o.current.onfinish=()=>{o.current=void 0,b?.()})}}r.current=void 0}),{prepareAnimation:s=>{r.current=s},isAnimationPlaying:()=>{var s;return((s=o.current)===null||s===void 0?void 0:s.playState)==="running"}}}function Yt(){const e=n.useRef(null),t=n.useRef(void 0),[r,o]=n.useState();return{setContainerRef:n.useCallback(s=>{e.current=s,t.current&&(t.current.disconnect(),t.current=void 0);const a=()=>{if(s){const c=window.getComputedStyle(s),f=h=>parseFloat(h)||0;o({width:Math.round(s.clientWidth-f(c.paddingLeft)-f(c.paddingRight)),height:Math.round(s.clientHeight-f(c.paddingTop)-f(c.paddingBottom))})}else o(void 0)};a(),s&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(a),t.current.observe(s))},[]),containerRef:e,containerRect:r}}function _e(){const e=n.useRef(void 0),{setTimeout:t,clearTimeout:r}=Le();return n.useCallback((o,i)=>{r(e.current),e.current=t(o,i>0?i:0)},[t,r])}function D(e){const t=n.useRef(e);return pe(()=>{t.current=e}),n.useCallback((...r)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...r)},[])}function ut(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Ke(e,t){return n.useMemo(()=>e==null&&t==null?null:r=>{ut(e,r),ut(t,r)},[e,t])}function rr(e,t=!1){const r=n.useRef(!1);pe(()=>{t&&r.current&&(r.current=!1,e())},[t,e]);const o=n.useCallback(()=>{r.current=!0},[]),i=n.useCallback(()=>{r.current=!1},[]);return{onFocus:o,onBlur:i}}function Qe(){const[e,t]=n.useState(!1);return pe(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function or(){const[e]=n.useState({}),t=n.useCallback((i,s)=>{var a;(a=e[i])===null||a===void 0||a.forEach(c=>{s.isPropagationStopped()||c(s)})},[e]),r=n.useMemo(()=>({onPointerDown:i=>t(wt,i),onPointerMove:i=>t(yt,i),onPointerUp:i=>t(Pt,i),onPointerLeave:i=>t(Lt,i),onPointerCancel:i=>t(St,i),onKeyDown:i=>t(It,i),onKeyUp:i=>t(yn,i),onWheel:i=>t(Tt,i)}),[t]),o=n.useCallback((i,s)=>(e[i]||(e[i]=[]),e[i].unshift(s),()=>{const a=e[i];a&&a.splice(0,a.length,...a.filter(c=>c!==s))}),[e]);return{registerSensors:r,subscribeSensors:o}}function dt(e,t){const r=n.useRef(0),o=_e(),i=D((...s)=>{r.current=Date.now(),e(s)});return n.useCallback((...s)=>{o(()=>{i(s)},t-(Date.now()-r.current))},[t,i,o])}const $e=Ge("slide"),Ue=Ge("slide_image");function ir({slide:e,offset:t,render:r,rect:o,imageFit:i,imageProps:s,onClick:a,onLoad:c,onError:f,style:h}){var x,b,v,p,g,m,C,l;const[E,w]=n.useState(De),{publish:M}=ye(),{setTimeout:O}=Le(),P=n.useRef(null);n.useEffect(()=>{t===0&&M(_n(E))},[t,E,M]);const _=D(L=>{("decode"in L?L.decode():Promise.resolve()).catch(()=>{}).then(()=>{L.parentNode&&(w(We),O(()=>{c?.(L)},0))})}),R=n.useCallback(L=>{P.current=L,L?.complete&&_(L)},[_]),I=n.useCallback(L=>{_(L.currentTarget)},[_]),z=D(()=>{w(Ae),f?.()}),j=kn(e,i),V=(L,re)=>Number.isFinite(L)?L:re,N=V(Math.max(...((b=(x=e.srcSet)===null||x===void 0?void 0:x.map(L=>L.width))!==null&&b!==void 0?b:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((v=P.current)===null||v===void 0?void 0:v.naturalWidth)||0),k=V(Math.max(...((g=(p=e.srcSet)===null||p===void 0?void 0:p.map(L=>L.height))!==null&&g!==void 0?g:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((m=P.current)===null||m===void 0?void 0:m.naturalHeight)||0),y=N&&k?{maxWidth:`min(${N}px, 100%)`,maxHeight:`min(${k}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},A=(C=e.srcSet)===null||C===void 0?void 0:C.sort((L,re)=>L.width-re.width).map(L=>`${L.src} ${L.width}w`).join(", "),$=()=>o&&!j&&e.width&&e.height?o.height/e.height*e.width:Number.MAX_VALUE,J=A&&o&&kt()?`${Math.round(Math.min($(),o.width))}px`:void 0,{style:le,className:Se,...q}=s||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:R,onLoad:I,onError:z,onClick:a,draggable:!1,className:Y(S(Ue()),j&&S(Ue("cover")),E!==We&&S(Ue("loading")),Se),style:{...y,...h,...le},...q,alt:(l=e.alt)!==null&&l!==void 0?l:"",sizes:J,srcSet:A,src:e.src}),E!==We&&n.createElement("div",{className:S($e(Nn))},E===De&&(r?.iconLoading?r.iconLoading():n.createElement(er,{className:Y(S(Fe),S($e(De)))})),E===Ae&&(r?.iconError?r.iconError():n.createElement(tr,{className:Y(S(Fe),S($e(Ae)))}))))}const sr=n.forwardRef(function({className:t,children:r,onFocus:o,onBlur:i,...s},a){const c=n.useRef(null),{trackFocusWithin:f}=Ut();return n.createElement(Bn,{nodeRef:c},n.createElement("div",{ref:Ke(a,c),className:Y(S("root"),t),...f(o,i),...s},r))});var U;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(U||(U={}));function ar(e,t,r,o,i){n.useEffect(()=>Mt(e(wt,t),e(yt,r),e(Pt,o),e(Lt,o),e(St,o)),[e,t,r,o,i])}var K;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(K||(K={}));const Ve=30;function lr({disableSwipeNavigation:e,closeOnBackdropClick:t},r,o,i,s,a,c,f,h,x,b,v,p,g,m,C){const l=n.useRef(0),E=n.useRef([]),w=n.useRef(void 0),M=n.useRef(0),O=n.useRef(K.NONE),P=n.useCallback(N=>{w.current===N.pointerId&&(w.current=void 0,O.current=K.NONE);const k=E.current;k.splice(0,k.length,...k.filter(y=>y.pointerId!==N.pointerId))},[]),_=n.useCallback(N=>{P(N),N.persist(),E.current.push(N)},[P]),R=n.useCallback(N=>E.current.find(({pointerId:k})=>N.pointerId===k),[]),I=D(N=>{_(N)}),z=(N,k)=>b&&N>k||x&&N<-k,j=D(N=>{const k=R(N);if(k)if(w.current===N.pointerId){const y=Date.now()-M.current,A=l.current;O.current===K.SWIPE?Math.abs(A)>.3*i||Math.abs(A)>5&&y<s?f(A,y):h(A):O.current===K.PULL&&(z(A,2*Ve)?g(A,y):m(A)),l.current=0,O.current=K.NONE}else{const{target:y}=N;t&&y instanceof HTMLElement&&y===k.target&&(y.classList.contains(S(Xe))||y.classList.contains(S(wn)))&&C()}P(N)}),V=D(N=>{const k=R(N);if(k){const y=w.current===N.pointerId;if(N.buttons===0){y&&l.current!==0?j(N):P(k);return}const A=N.clientX-k.clientX,$=N.clientY-k.clientY;if(w.current===void 0){const J=le=>{_(N),w.current=N.pointerId,M.current=Date.now(),O.current=le};Math.abs(A)>Math.abs($)&&Math.abs(A)>Ve&&o(A)?e||(J(K.SWIPE),a()):Math.abs($)>Math.abs(A)&&z($,Ve)&&(J(K.PULL),v())}else y&&(O.current===K.SWIPE?(l.current=A,c(A)):O.current===K.PULL&&(l.current=$,p($)))}});ar(r,I,V,j)}function cr({preventDefaultWheelX:e,preventDefaultWheelY:t}){const r=n.useRef(null),o=D(i=>{const s=Math.abs(i.deltaX)>Math.abs(i.deltaY);(s&&e||!s&&t||i.ctrlKey)&&i.preventDefault()});return n.useCallback(i=>{var s;i?i.addEventListener("wheel",o,{passive:!1}):(s=r.current)===null||s===void 0||s.removeEventListener("wheel",o),r.current=i},[o])}function ur(e,t,r,o,i,s,a,c,f){const h=n.useRef(0),x=n.useRef(0),b=n.useRef(void 0),v=n.useRef(void 0),p=n.useRef(0),g=n.useRef(void 0),m=n.useRef(0),{setTimeout:C,clearTimeout:l}=Le(),E=n.useCallback(()=>{b.current&&(l(b.current),b.current=void 0)},[l]),w=n.useCallback(()=>{v.current&&(l(v.current),v.current=void 0)},[l]),M=D(()=>{e!==U.SWIPE&&(h.current=0,m.current=0,E(),w())});n.useEffect(M,[e,M]);const O=D(_=>{v.current=void 0,h.current===_&&f(h.current)}),P=D(_=>{if(_.ctrlKey||Math.abs(_.deltaY)>Math.abs(_.deltaX))return;const R=I=>{p.current=I,l(g.current),g.current=I>0?C(()=>{p.current=0,g.current=void 0},300):void 0};if(e===U.NONE){if(Math.abs(_.deltaX)<=1.2*Math.abs(p.current)){R(_.deltaX);return}if(!r(-_.deltaX))return;if(x.current+=_.deltaX,E(),Math.abs(x.current)>30)x.current=0,R(0),m.current=Date.now(),s();else{const I=x.current;b.current=C(()=>{b.current=void 0,I===x.current&&(x.current=0)},i)}}else if(e===U.SWIPE){let I=h.current-_.deltaX;if(I=Math.min(Math.abs(I),o)*Math.sign(I),h.current=I,a(I),w(),Math.abs(I)>.2*o){R(_.deltaX),c(I,Date.now()-m.current);return}v.current=C(()=>O(I),2*i)}else R(_.deltaX)});n.useEffect(()=>t(Tt,P),[t,P])}const ft=Ge("container"),qt=n.createContext(null),ge=Q("useController","ControllerContext",qt);function dr({children:e,...t}){var r;const{carousel:o,animation:i,controller:s,on:a,styles:c,render:f}=t,{closeOnPullUp:h,closeOnPullDown:x,preventDefaultWheelX:b,preventDefaultWheelY:v}=s,[p,g]=n.useState(),m=Pe(),C=zn(),[l,E]=n.useState(U.NONE),w=n.useRef(0),M=n.useRef(0),O=n.useRef(1),{registerSensors:P,subscribeSensors:_}=or(),{subscribe:R,publish:I}=ye(),z=_e(),j=_e(),V=_e(),{containerRef:N,setContainerRef:k,containerRect:y}=Yt(),A=Ke(cr({preventDefaultWheelX:b,preventDefaultWheelY:v}),k),$=n.useRef(null),J=Ke($,void 0),{getOwnerDocument:le}=qe(),Se=Qe(),q=u=>(Se?-1:1)*(typeof u=="number"?u:1),L=D(()=>{var u;return(u=N.current)===null||u===void 0?void 0:u.focus()}),re=D(()=>t),Je=D(()=>m),ve=n.useCallback(u=>I(ee,u),[I]),xe=n.useCallback(u=>I(te,u),[I]),oe=n.useCallback(()=>I(se),[I]),Ie=u=>!(o.finite&&(q(u)>0&&m.currentIndex===0||q(u)<0&&m.currentIndex===m.slides.length-1)),Ze=u=>{var T;w.current=u,(T=N.current)===null||T===void 0||T.style.setProperty(B("swipe_offset"),`${Math.round(u)}px`)},Te=u=>{var T,F;M.current=u,O.current=(()=>{const ue=x&&u>0?u:h&&u<0?-u:0;return Math.min(Math.max(Mn(1-ue/60*(1-.5),2),.5),1)})(),(T=N.current)===null||T===void 0||T.style.setProperty(B("pull_offset"),`${Math.round(u)}px`),(F=N.current)===null||F===void 0||F.style.setProperty(B("pull_opacity"),`${O.current}`)},{prepareAnimation:Zt}=ct($,(u,T,F)=>{if($.current&&y)return{keyframes:[{transform:`translate(0, ${u.rect.y-T.y+F.y}px)`,opacity:u.opacity},{transform:"translate(0, 0)",opacity:1}],duration:u.duration,easing:i.easing.fade}}),et=(u,T)=>{if(h||x){Te(u);let F=0;$.current&&(F=i.fade*(T?2:1),Zt({rect:$.current.getBoundingClientRect(),opacity:O.current,duration:F})),V(()=>{Te(0),E(U.NONE)},F),E(U.ANIMATION),T||oe()}},{prepareAnimation:en,isAnimationPlaying:tn}=ct($,(u,T,F)=>{var X;if($.current&&y&&(!((X=m.animation)===null||X===void 0)&&X.duration)){const H=Ce(o.spacing),ue=(H.percent?H.percent*y.width/100:H.pixel)||0;return{keyframes:[{transform:`translate(${q(m.globalIndex-u.index)*(y.width+ue)+u.rect.x-T.x+F.x}px, 0)`},{transform:"translate(0, 0)"}],duration:m.animation.duration,easing:m.animation.easing}}}),ce=D(u=>{var T,F;const X=u.offset||0,H=X?i.swipe:(T=i.navigation)!==null&&T!==void 0?T:i.swipe,ue=!X&&!tn()?i.easing.navigation:i.easing.swipe;let{direction:be}=u;const Ee=(F=u.count)!==null&&F!==void 0?F:1;let Oe=U.ANIMATION,G=H*Ee;if(!be){const de=y?.width,ot=u.duration||0,Me=de?H/de*Math.abs(X):H;Ee!==0?(ot<Me?G=G/Me*Math.max(ot,Me/5):de&&(G=H/de*(de-Math.abs(X))),be=q(X)>0?ee:te):G=H/2}let Re=0;be===ee?Ie(q(1))?Re=-Ee:(Oe=U.NONE,G=H):be===te&&(Ie(q(-1))?Re=Ee:(Oe=U.NONE,G=H)),G=Math.round(G),j(()=>{Ze(0),E(U.NONE)},G),$.current&&en({rect:$.current.getBoundingClientRect(),index:m.globalIndex}),E(Oe),I(at,{type:"swipe",increment:Re,duration:G,easing:ue})});n.useEffect(()=>{var u,T;!((u=m.animation)===null||u===void 0)&&u.increment&&(!((T=m.animation)===null||T===void 0)&&T.duration)&&z(()=>C({type:"swipe",increment:0}),m.animation.duration)},[m.animation,C,z]);const tt=[_,Ie,y?.width||0,i.swipe,()=>E(U.SWIPE),u=>Ze(u),(u,T)=>ce({offset:u,duration:T,count:1}),u=>ce({offset:u,count:0})],nn=[()=>{x&&E(U.PULL)},u=>Te(u),u=>et(u),u=>et(u,!0)];lr(s,...tt,h,x,...nn,oe),ur(l,...tt);const nt=D(()=>{s.focus&&le().querySelector(`.${S(ze)} .${S(ft())}`)&&L()});n.useEffect(nt,[nt]);const rt=D(()=>{var u;(u=a.view)===null||u===void 0||u.call(a,{index:m.currentIndex})});n.useEffect(rt,[m.globalIndex,rt]),n.useEffect(()=>Mt(R(ee,u=>ce({direction:ee,...u})),R(te,u=>ce({direction:te,...u})),R(at,u=>C(u))),[R,ce,C]);const rn=n.useMemo(()=>({prev:ve,next:xe,close:oe,focus:L,slideRect:y?jn(y,o.padding):{width:0,height:0},containerRect:y||{width:0,height:0},subscribeSensors:_,containerRef:N,setCarouselRef:J,toolbarWidth:p,setToolbarWidth:g}),[ve,xe,oe,L,_,y,N,J,p,g,o.padding]);return n.useImperativeHandle(s.ref,()=>({prev:ve,next:xe,close:oe,focus:L,getLightboxProps:re,getLightboxState:Je}),[ve,xe,oe,L,re,Je]),n.createElement("div",{ref:A,className:Y(S(ft()),S(_t)),style:{...l===U.SWIPE?{[B("swipe_offset")]:`${Math.round(w.current)}px`}:null,...l===U.PULL?{[B("pull_offset")]:`${Math.round(M.current)}px`,[B("pull_opacity")]:`${O.current}`}:null,...s.touchAction!=="none"?{[B("controller_touch_action")]:s.touchAction}:null,...c.container},tabIndex:-1,...P},y&&n.createElement(qt.Provider,{value:rn},e,(r=f.controls)===null||r===void 0?void 0:r.call(f)))}const fr=ne(Et,dr);function Z(e){return fe(bt,e)}function mt(e){return fe(Xe,e)}function mr({slide:e,offset:t}){const r=n.useRef(null),{currentIndex:o,slides:i}=Pe(),{slideRect:s,focus:a}=ge(),{render:c,carousel:{imageFit:f,imageProps:h},on:{click:x},styles:{slide:b},labels:v}=me(),{getOwnerDocument:p}=qe(),g=t!==0;n.useEffect(()=>{var C;g&&(!((C=r.current)===null||C===void 0)&&C.contains(p().activeElement))&&a()},[g,a,p]);const m=()=>{var C,l,E,w;let M=(C=c.slide)===null||C===void 0?void 0:C.call(c,{slide:e,offset:t,rect:s});return!M&&jt(e)&&(M=n.createElement(ir,{slide:e,offset:t,render:c,rect:s,imageFit:f,imageProps:h,onClick:g?void 0:()=>x?.({index:o})})),M?n.createElement(n.Fragment,null,(l=c.slideHeader)===null||l===void 0?void 0:l.call(c,{slide:e}),((E=c.slideContainer)!==null&&E!==void 0?E:({children:O})=>O)({slide:e,children:M}),(w=c.slideFooter)===null||w===void 0?void 0:w.call(c,{slide:e})):null};return n.createElement("div",{ref:r,className:Y(S(mt()),!g&&S(mt("current")),S(_t)),...$n(g),style:b,role:"group","aria-roledescription":ae(v,"Slide"),"aria-label":Rn(v,i,o+t)},m())}function hr(){const e=me().styles.slide;return n.createElement("div",{className:S(Xe),style:e})}function pr({carousel:e,labels:t}){const{slides:r,currentIndex:o,globalIndex:i}=Pe(),{setCarouselRef:s}=ge(),{autoPlaying:a,focusWithin:c}=Ut(),f=Ce(e.spacing),h=Ce(e.padding),x=An(e,r,1),b=[];if(Dt(r))for(let v=o-x;v<=o+x;v+=1){const p=At(r,v),g=i-o+v,m=e.finite&&(v<0||v>r.length-1);b.push(m?{key:g}:{key:[`${g}`,Dn(p)].filter(Boolean).join("|"),offset:v-o,slide:p})}return n.createElement("div",{ref:s,className:Y(S(Z()),b.length>0&&S(Z("with_slides"))),style:{[`${B(Z("slides_count"))}`]:b.length,[`${B(Z("spacing_px"))}`]:f.pixel||0,[`${B(Z("spacing_percent"))}`]:f.percent||0,[`${B(Z("padding_px"))}`]:h.pixel||0,[`${B(Z("padding_percent"))}`]:h.percent||0},role:"region","aria-live":a&&!c?"off":"polite","aria-roledescription":ae(t,"Carousel"),"aria-label":ae(t,"Photo gallery")},b.map(({key:v,slide:p,offset:g})=>p?n.createElement(mr,{key:v,slide:p,offset:g}):n.createElement(hr,{key:v})))}const gr=ne(bt,pr);function Qt(){const{carousel:e}=me(),{slides:t,currentIndex:r}=Pe(),o=t.length===0||e.finite&&r===0,i=t.length===0||e.finite&&r===t.length-1;return{prevDisabled:o,nextDisabled:i}}function vr(e){var t;const r=Qe(),{publish:o}=ye(),{animation:i}=me(),{prevDisabled:s,nextDisabled:a}=Qt(),c=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,f=dt(()=>o(ee),c),h=dt(()=>o(te),c),x=D(b=>{switch(b.key){case Pn:o(se);break;case Ln:(r?a:s)||(r?h:f)();break;case Sn:(r?s:a)||(r?f:h)();break}});n.useEffect(()=>e(It,x),[e,x])}function ht({label:e,icon:t,renderIcon:r,action:o,onClick:i,disabled:s,style:a}){return n.createElement(Xt,{label:e,icon:t,renderIcon:r,className:S(`navigation_${o}`),disabled:s,onClick:i,style:a,...rr(ge().focus,s)})}function xr({render:{buttonPrev:e,buttonNext:t,iconPrev:r,iconNext:o},styles:i}){const{prev:s,next:a,subscribeSensors:c}=ge(),{prevDisabled:f,nextDisabled:h}=Qt();return vr(c),n.createElement(n.Fragment,null,e?e():n.createElement(ht,{label:"Previous",action:ee,icon:Jn,renderIcon:r,style:i.navigationPrev,disabled:f,onClick:s}),t?t():n.createElement(ht,{label:"Next",action:te,icon:Zn,renderIcon:o,style:i.navigationNext,disabled:h,onClick:a}))}const br=ne(xn,xr),pt=S(Cn),Er=S(Ct);function Nr(e){return"style"in e}function gt(e,t,r){const o=window.getComputedStyle(e),i=r?"padding-left":"padding-right",s=r?o.paddingLeft:o.paddingRight,a=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(we(s)||0)+t}px`),()=>{a?e.style.setProperty(i,a):e.style.removeProperty(i)}}function _r({noScroll:{disabled:e},children:t}){const r=Qe(),{getOwnerDocument:o,getOwnerWindow:i}=qe();return n.useEffect(()=>{if(e)return()=>{};const s=[],a=i(),{body:c,documentElement:f}=o(),h=Math.round(a.innerWidth-f.clientWidth);if(h>0){s.push(gt(c,h,r));const x=c.getElementsByTagName("*");for(let b=0;b<x.length;b+=1){const v=x[b];Nr(v)&&a.getComputedStyle(v).getPropertyValue("position")==="fixed"&&!v.classList.contains(Er)&&s.push(gt(v,h,r))}}return c.classList.add(pt),()=>{c.classList.remove(pt),s.forEach(x=>x())}},[r,e,o,i]),n.createElement(n.Fragment,null,t)}const Cr=ne(bn,_r);function vt(e){return fe(ze,e)}function xt(e,t,r){const o=e.getAttribute(t);return e.setAttribute(t,r),()=>{o?e.setAttribute(t,o):e.removeAttribute(t)}}function wr({children:e,animation:t,styles:r,className:o,on:i,portal:s,close:a,labels:c}){const[f,h]=n.useState(!1),[x,b]=n.useState(!1),v=n.useRef([]),p=n.useRef(null),{setTimeout:g}=Le(),{subscribe:m}=ye(),l=Gt()?0:t.fade;n.useEffect(()=>(h(!0),()=>{h(!1),b(!1)}),[]);const E=D(()=>{v.current.forEach(P=>P()),v.current=[]}),w=D(()=>{var P;b(!1),E(),(P=i.exiting)===null||P===void 0||P.call(i),g(()=>{var _;(_=i.exited)===null||_===void 0||_.call(i),a()},l)});n.useEffect(()=>m(se,w),[m,w]);const M=D(P=>{var _,R,I;Un(P),b(!0),(_=i.entering)===null||_===void 0||_.call(i);const z=(I=(R=P.parentNode)===null||R===void 0?void 0:R.children)!==null&&I!==void 0?I:[];for(let j=0;j<z.length;j+=1){const V=z[j];["TEMPLATE","SCRIPT","STYLE"].indexOf(V.tagName)===-1&&V!==P&&(v.current.push(xt(V,"inert","")),v.current.push(xt(V,"aria-hidden","true")))}v.current.push(()=>{var j,V;(V=(j=p.current)===null||j===void 0?void 0:j.focus)===null||V===void 0||V.call(j)}),g(()=>{var j;(j=i.entered)===null||j===void 0||j.call(i)},l)}),O=n.useCallback(P=>{P?M(P):E()},[M,E]);return f?On.createPortal(n.createElement(sr,{ref:O,className:Y(o,S(vt()),S(Ct),x&&S(vt("open"))),"aria-modal":!0,role:"dialog","aria-label":ae(c,"Lightbox"),style:{...t.fade!==He.animation.fade?{[B("fade_animation_duration")]:`${l}ms`}:null,...t.easing.fade!==He.animation.easing.fade?{[B("fade_animation_timing_function")]:t.easing.fade}:null,...r.root},onFocus:P=>{p.current||(p.current=P.relatedTarget)}},e),s.root||document.body):null}const yr=ne(ze,wr);function Pr({children:e}){return n.createElement(n.Fragment,null,e)}const Lr=ne(En,Pr);function Sr(e){return fe(Nt,e)}function Ir({toolbar:{buttons:e},render:{buttonClose:t,iconClose:r},styles:o}){const{close:i,setToolbarWidth:s}=ge(),{setContainerRef:a,containerRect:c}=Yt();pe(()=>{s(c?.width)},[s,c?.width]);const f=()=>t?t():n.createElement(Xt,{key:se,label:"Close",icon:Qn,renderIcon:r,onClick:i});return n.createElement("div",{ref:a,style:o.toolbar,className:S(Sr())},e?.map(h=>h===se?f():h))}const Tr=ne(Nt,Ir);function Jt(e,t){var r;return n.createElement(e.module.component,{key:e.module.name,...t},(r=e.children)===null||r===void 0?void 0:r.map(o=>Jt(o,t)))}function Or(e,t={}){const{easing:r,...o}=e,{easing:i,...s}=t;return{easing:{...r,...i},...o,...s}}function Rr({carousel:e,animation:t,render:r,toolbar:o,controller:i,noScroll:s,on:a,plugins:c,slides:f,index:h,...x}){const{animation:b,carousel:v,render:p,toolbar:g,controller:m,noScroll:C,on:l,slides:E,index:w,plugins:M,...O}=He,{config:P,augmentation:_}=Vn([W(yr,[W(Cr,[W(fr,[W(gr),W(Tr),W(br)])])])],c||M),R=_({animation:Or(b,t),carousel:{...v,...e},render:{...p,...r},toolbar:{...g,...o},controller:{...m,...i},noScroll:{...C,...s},on:{...l,...a},...O,...x});return R.open?n.createElement(Kn,{...R},n.createElement(Gn,{slides:f||E,index:we(h||w)},n.createElement(Yn,null,n.createElement(Hn,null,n.createElement(Fn,null,Jt(W(Lr,P),R)))))):null}function Ar({galeris:e,sekolahs:t,filters:r}){ln();const[o,i]=n.useState(null),[s,a]=n.useState(!1),[c,f]=n.useState(!1),[h,x]=n.useState(0),b=l=>{i(l),a(!0)},v=()=>{if(o){const l=typeof route=="function"&&route("admin.galeri.destroy",o)&&route("admin.galeri.destroy",o)!=="#"||`/admin/galeri/${o}`;Ne.delete(l,{preserveScroll:!0,onSuccess:()=>{a(!1),i(null)},onError:()=>{an.error("Gagal menghapus galeri")}})}},p=l=>{const E={gedung:"badge-primary",kegiatan:"badge-info",prestasi:"badge-success",lainnya:"badge-ghost"},w={gedung:"Gedung",kegiatan:"Kegiatan",prestasi:"Prestasi",lainnya:"Lainnya"};return d.jsx("span",{className:`badge ${E[l]||"badge-ghost"} badge-sm`,children:w[l]||l})},g=e.data.filter(l=>l.file_foto).map(l=>({src:`/storage/${l.file_foto}`,alt:l.judul,title:l.judul,description:l.deskripsi||""})),m=l=>{let E=0;for(let w=0;w<=l;w++)if(e.data[w]?.file_foto){if(w===l)return E;E++}return 0},C=l=>{const E=m(l);x(E),f(!0)};return d.jsxs(gn,{title:"Kelola Galeri",children:[d.jsx(sn,{title:"Kelola Galeri"}),d.jsxs("div",{className:"mx-auto max-w-7xl",children:[d.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold",children:"Galeri"}),d.jsx("p",{className:"text-sm text-base-content/70",children:"Kelola galeri foto sekolah"})]}),d.jsx(ke,{href:typeof route=="function"&&route("admin.galeri.create")&&route("admin.galeri.create")!=="#"||"/admin/galeri/create",children:d.jsxs(je,{variant:"primary",children:[d.jsx(cn,{className:"mr-2 h-4 w-4"}),"Tambah Galeri"]})})]}),d.jsx(un,{placeholder:"Cari galeri (judul, sekolah, dll)...",searchUrl:typeof route=="function"&&route("admin.galeri.index")&&route("admin.galeri.index")!=="#"||"/admin/galeri",resetUrl:typeof route=="function"&&route("admin.galeri.index")&&route("admin.galeri.index")!=="#"||"/admin/galeri",defaultValue:r?.search||""}),d.jsx(it,{className:"mb-6",children:d.jsx(st,{children:d.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[t&&t.length>0&&d.jsxs("div",{children:[d.jsx("label",{className:"label-text mb-2 block",children:"Filter Sekolah:"}),d.jsxs("select",{className:"select select-bordered w-full",value:r?.sekolah||"",onChange:l=>{const E=typeof route=="function"&&route("admin.galeri.index")&&route("admin.galeri.index")!=="#"||"/admin/galeri";Ne.get(E,{...r,sekolah:l.target.value||null},{preserveState:!0})},children:[d.jsx("option",{value:"",children:"Semua Sekolah"}),t.map(l=>d.jsx("option",{value:l.id,children:l.nm_sekolah},l.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-text mb-2 block",children:"Filter Kategori:"}),d.jsxs("select",{className:"select select-bordered w-full",value:r?.kategori||"",onChange:l=>{const E=typeof route=="function"&&route("admin.galeri.index")&&route("admin.galeri.index")!=="#"||"/admin/galeri";Ne.get(E,{...r,kategori:l.target.value||null},{preserveState:!0})},children:[d.jsx("option",{value:"",children:"Semua Kategori"}),d.jsx("option",{value:"gedung",children:"Gedung"}),d.jsx("option",{value:"kegiatan",children:"Kegiatan"}),d.jsx("option",{value:"prestasi",children:"Prestasi"}),d.jsx("option",{value:"lainnya",children:"Lainnya"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label-text mb-2 block",children:"Filter Status:"}),d.jsxs("select",{className:"select select-bordered w-full",value:r?.tampilkan!==void 0?String(r.tampilkan):"",onChange:l=>{const E=typeof route=="function"&&route("admin.galeri.index")&&route("admin.galeri.index")!=="#"||"/admin/galeri";Ne.get(E,{...r,tampilkan:l.target.value!==""?l.target.value:null},{preserveState:!0})},children:[d.jsx("option",{value:"",children:"Semua Status"}),d.jsx("option",{value:"1",children:"Tampilkan"}),d.jsx("option",{value:"0",children:"Tidak Tampilkan"})]})]})]})})}),d.jsxs(it,{children:[d.jsx(hn,{children:d.jsx(pn,{children:"Daftar Galeri"})}),d.jsxs(st,{children:[e.data.length===0?d.jsxs("div",{className:"py-12 text-center",children:[d.jsx(vn,{className:"mx-auto h-12 w-12 text-base-content/30"}),d.jsx("p",{className:"mt-4 text-base-content/70",children:r?.search||r?.sekolah||r?.kategori||r?.tampilkan!==void 0?"Tidak ada galeri yang ditemukan.":"Belum ada data galeri."})]}):d.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.data.map((l,E)=>d.jsxs("div",{className:"card card-compact bg-base-100 shadow",children:[d.jsxs("figure",{className:"relative h-48 overflow-hidden",children:[d.jsx("img",{src:l.file_foto?`/storage/${l.file_foto}`:"/placeholder-image.jpg",alt:l.judul,className:"h-full w-full cursor-pointer object-cover transition-transform hover:scale-105",onClick:()=>C(E)}),!l.tampilkan&&d.jsx("div",{className:"absolute right-2 top-2",children:d.jsx("span",{className:"badge badge-error badge-sm",children:"Tidak Tampil"})})]}),d.jsxs("div",{className:"card-body",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsx("h3",{className:"card-title text-sm line-clamp-2",children:l.judul}),p(l.kategori)]}),d.jsx("p",{className:"text-xs text-base-content/70 line-clamp-2",children:l.deskripsi||"-"}),d.jsx("div",{className:"text-xs text-base-content/70",children:l.sekolah?.nm_sekolah||"-"}),d.jsxs("div",{className:"card-actions mt-2 justify-end",children:[d.jsx(ke,{href:typeof route=="function"&&route("admin.galeri.edit",l.id)&&route("admin.galeri.edit",l.id)!=="#"||`/admin/galeri/${l.id}/edit`,children:d.jsx(je,{variant:"ghost",size:"sm",className:"btn-sm",children:d.jsx(dn,{className:"h-4 w-4"})})}),d.jsx(je,{variant:"ghost",size:"sm",className:"text-error btn-sm hover:bg-error/10",onClick:()=>b(l.id),children:d.jsx(fn,{className:"h-4 w-4"})})]})]})]},l.id))}),e.links.length>3&&d.jsx("div",{className:"mt-6 flex justify-center",children:d.jsx("div",{className:"join",children:e.links.map((l,E)=>d.jsx(ke,{href:l.url||"#",className:`btn join-item btn-sm ${l.active?"btn-active":l.url?"":"btn-disabled"}`,dangerouslySetInnerHTML:{__html:l.label}},E))})})]})]})]}),d.jsx(Rr,{open:c,close:()=>f(!1),index:h,slides:g,render:{buttonPrev:()=>null,buttonNext:()=>null}}),d.jsx(mn,{isOpen:s,onClose:()=>{a(!1),i(null)},onConfirm:v,title:"Hapus Galeri",message:"Apakah Anda yakin ingin menghapus galeri ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Hapus",cancelText:"Batal",variant:"error"})]})}export{Ar as default};
